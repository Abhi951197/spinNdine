{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport * as Location from 'expo-location';\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nvar BACKEND_URL = 'http://localhost:5000';\nvar WHEEL_COLORS = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8', '#F7DC6F', '#BB8FCE', '#85C1E2', '#F8B88B', '#B4D7FF'];\nvar WheelComponent = function WheelComponent(_ref) {\n  var restaurants = _ref.restaurants,\n    isSpinning = _ref.isSpinning,\n    onSpinComplete = _ref.onSpinComplete;\n  var rotationValue = useRef(new Animated.Value(0)).current;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isAnimating = _useState2[0],\n    setIsAnimating = _useState2[1];\n  var handleSpin = function handleSpin() {\n    if (isAnimating || restaurants.length === 0) return;\n    setIsAnimating(true);\n    var randomIndex = Math.floor(Math.random() * restaurants.length);\n    var sliceDegrees = 360 / restaurants.length;\n    var spinOffset = randomIndex * sliceDegrees + sliceDegrees / 2;\n    var randomSpins = 5 + Math.random() * 2;\n    var finalRotation = randomSpins * 360 + (360 - spinOffset);\n    Animated.timing(rotationValue, {\n      toValue: finalRotation,\n      duration: 4000,\n      useNativeDriver: true\n    }).start(function () {\n      setIsAnimating(false);\n      onSpinComplete(restaurants[randomIndex]);\n    });\n  };\n  var rotate = rotationValue.interpolate({\n    inputRange: [0, 360],\n    outputRange: ['0deg', '360deg']\n  });\n  var sliceDegrees = 360 / (restaurants.length || 1);\n  return _jsxs(View, {\n    style: styles.wheelContainer,\n    children: [_jsx(Animated.View, {\n      style: [styles.wheel, {\n        transform: [{\n          rotate: rotationValue\n        }]\n      }],\n      children: restaurants.map(function (restaurant, index) {\n        var rotation = index * sliceDegrees;\n        return _jsx(View, {\n          style: [styles.slice, {\n            backgroundColor: WHEEL_COLORS[index % WHEEL_COLORS.length],\n            transform: [{\n              rotate: `${rotation}deg`\n            }]\n          }],\n          children: _jsx(Text, {\n            style: styles.sliceText,\n            numberOfLines: 2,\n            adjustsFontSizeToFit: true,\n            children: restaurant.name\n          })\n        }, index);\n      })\n    }), _jsx(View, {\n      style: styles.centerPoint\n    }), _jsx(TouchableOpacity, {\n      style: [styles.spinButton, (isAnimating || restaurants.length === 0) && styles.spinButtonDisabled],\n      onPress: handleSpin,\n      disabled: isAnimating || restaurants.length === 0,\n      children: _jsx(Text, {\n        style: styles.spinButtonText,\n        children: restaurants.length === 0 ? 'LOADING...' : 'SPIN!'\n      })\n    })]\n  });\n};\nexport default function App() {\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    location = _useState4[0],\n    setLocation = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    restaurants = _useState6[0],\n    setRestaurants = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    selectedRestaurant = _useState8[0],\n    setSelectedRestaurant = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    loading = _useState0[0],\n    setLoading = _useState0[1];\n  var _useState1 = useState(null),\n    _useState10 = _slicedToArray(_useState1, 2),\n    error = _useState10[0],\n    setError = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    isSpinning = _useState12[0],\n    setIsSpinning = _useState12[1];\n  useEffect(function () {\n    getLocationAndRestaurants();\n  }, []);\n  var getLocationAndRestaurants = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setLoading(true);\n      setError(null);\n      try {\n        var loc = yield getLocation();\n        if (loc) {\n          setLocation(loc);\n          yield fetchRestaurants(loc);\n        }\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to get location');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function getLocationAndRestaurants() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var getLocation = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        if (Platform.OS === 'web') {\n          return new Promise(function (resolve) {\n            if ('geolocation' in navigator) {\n              navigator.geolocation.getCurrentPosition(function (position) {\n                resolve({\n                  latitude: position.coords.latitude,\n                  longitude: position.coords.longitude\n                });\n              }, _asyncToGenerator(function* () {\n                try {\n                  var response = yield fetch('https://ipapi.co/json/');\n                  var data = yield response.json();\n                  resolve({\n                    latitude: data.latitude,\n                    longitude: data.longitude\n                  });\n                } catch (_unused) {\n                  resolve(null);\n                }\n              }));\n            } else {\n              resolve(null);\n            }\n          });\n        } else {\n          var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n            status = _yield$Location$reque.status;\n          if (status !== 'granted') {\n            throw new Error('Location permission denied');\n          }\n          var pos = yield Location.getCurrentPositionAsync({});\n          return {\n            latitude: pos.coords.latitude,\n            longitude: pos.coords.longitude\n          };\n        }\n      } catch (err) {\n        throw new Error('Failed to retrieve location');\n      }\n    });\n    return function getLocation() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var fetchRestaurants = function () {\n    var _ref5 = _asyncToGenerator(function* (loc) {\n      try {\n        var response = yield fetch(`${BACKEND_URL}/api/restaurants/wheel?latitude=${loc.latitude}&longitude=${loc.longitude}&radius=10000`);\n        if (!response.ok) {\n          throw new Error('Failed to fetch restaurants');\n        }\n        var data = yield response.json();\n        setRestaurants(data);\n      } catch (err) {\n        throw new Error('Failed to fetch restaurants from backend');\n      }\n    });\n    return function fetchRestaurants(_x) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var handleSpinComplete = function handleSpinComplete(restaurant) {\n    setSelectedRestaurant(restaurant);\n  };\n  var openMaps = function openMaps() {\n    if (selectedRestaurant != null && selectedRestaurant.mapsUrl) {\n      Linking.openURL(selectedRestaurant.mapsUrl);\n    }\n  };\n  var openWebsite = function openWebsite() {\n    if (selectedRestaurant != null && selectedRestaurant.websiteUrl) {\n      Linking.openURL(selectedRestaurant.websiteUrl);\n    }\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"SPIN & DINE\"\n      }), location && _jsx(View, {\n        style: styles.locationBadge,\n        children: _jsxs(Text, {\n          style: styles.locationText,\n          children: [\"\\uD83D\\uDCCD \", location.latitude.toFixed(2), \", \", location.longitude.toFixed(2)]\n        })\n      })]\n    }), _jsx(ScrollView, {\n      contentContainerStyle: styles.scrollContent,\n      showsVerticalScrollIndicator: false,\n      children: loading ? _jsxs(View, {\n        style: styles.centerContent,\n        children: [_jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"#4ECDC4\"\n        }), _jsx(Text, {\n          style: styles.loadingText,\n          children: \"Getting your location...\"\n        })]\n      }) : error ? _jsxs(View, {\n        style: styles.centerContent,\n        children: [_jsx(Text, {\n          style: styles.errorText,\n          children: error\n        }), _jsx(TouchableOpacity, {\n          style: styles.retryButton,\n          onPress: getLocationAndRestaurants,\n          children: _jsx(Text, {\n            style: styles.retryButtonText,\n            children: \"Retry\"\n          })\n        })]\n      }) : _jsxs(_Fragment, {\n        children: [restaurants.length > 0 && _jsx(WheelComponent, {\n          restaurants: restaurants,\n          isSpinning: isSpinning,\n          onSpinComplete: handleSpinComplete\n        }), selectedRestaurant && _jsxs(View, {\n          style: styles.resultCard,\n          children: [_jsx(Text, {\n            style: styles.resultTitle,\n            children: selectedRestaurant.name\n          }), selectedRestaurant.rating && _jsxs(Text, {\n            style: styles.resultRating,\n            children: [\"\\u2B50 \", selectedRestaurant.rating.toFixed(1), \" / 5\"]\n          }), _jsx(Text, {\n            style: styles.resultAddress,\n            children: selectedRestaurant.address\n          }), _jsxs(View, {\n            style: styles.actionButtons,\n            children: [_jsx(TouchableOpacity, {\n              style: styles.actionButton,\n              onPress: openMaps,\n              children: _jsx(Text, {\n                style: styles.actionButtonText,\n                children: \"\\uD83D\\uDCCD Maps\"\n              })\n            }), selectedRestaurant.websiteUrl && _jsx(TouchableOpacity, {\n              style: styles.actionButton,\n              onPress: openWebsite,\n              children: _jsx(Text, {\n                style: styles.actionButtonText,\n                children: \"\\uD83C\\uDF10 Website\"\n              })\n            })]\n          }), _jsx(TouchableOpacity, {\n            style: styles.spinAgainButton,\n            onPress: function onPress() {\n              return setSelectedRestaurant(null);\n            },\n            children: _jsx(Text, {\n              style: styles.spinAgainButtonText,\n              children: \"Spin Again\"\n            })\n          })]\n        })]\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F5F5F5'\n  },\n  header: {\n    backgroundColor: '#2C3E50',\n    paddingTop: 40,\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: 'bold',\n    color: '#FFF',\n    letterSpacing: 2\n  },\n  locationBadge: {\n    backgroundColor: '#34495E',\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n    borderRadius: 20\n  },\n  locationText: {\n    color: '#4ECDC4',\n    fontSize: 12,\n    fontWeight: '600'\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingVertical: 20\n  },\n  centerContent: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 400\n  },\n  loadingText: {\n    marginTop: 16,\n    fontSize: 16,\n    color: '#7F8C8D'\n  },\n  errorText: {\n    fontSize: 16,\n    color: '#E74C3C',\n    textAlign: 'center',\n    marginHorizontal: 20\n  },\n  retryButton: {\n    marginTop: 20,\n    backgroundColor: '#4ECDC4',\n    paddingHorizontal: 30,\n    paddingVertical: 12,\n    borderRadius: 25\n  },\n  retryButtonText: {\n    color: '#FFF',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  wheelContainer: {\n    alignItems: 'center',\n    marginVertical: 30\n  },\n  wheel: {\n    width: 280,\n    height: 280,\n    borderRadius: 140,\n    overflow: 'hidden',\n    backgroundColor: '#E8E8E8',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 10\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 20,\n    elevation: 10\n  },\n  slice: {\n    position: 'absolute',\n    width: 140,\n    height: 140,\n    transformOrigin: 'bottom center',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  sliceText: {\n    color: '#FFF',\n    fontSize: 12,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    textShadowColor: 'rgba(0, 0, 0, 0.3)',\n    textShadowOffset: {\n      width: 1,\n      height: 1\n    },\n    textShadowRadius: 2\n  },\n  centerPoint: {\n    position: 'absolute',\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: '#2C3E50',\n    top: '50%',\n    left: '50%',\n    marginLeft: -20,\n    marginTop: -20,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 5\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 10,\n    elevation: 8,\n    zIndex: 10\n  },\n  spinButton: {\n    backgroundColor: '#4ECDC4',\n    paddingHorizontal: 40,\n    paddingVertical: 14,\n    borderRadius: 25,\n    marginTop: 20,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 5\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 10,\n    elevation: 5\n  },\n  spinButtonDisabled: {\n    backgroundColor: '#BDC3C7',\n    opacity: 0.6\n  },\n  spinButtonText: {\n    color: '#FFF',\n    fontSize: 18,\n    fontWeight: 'bold',\n    letterSpacing: 1\n  },\n  resultCard: {\n    backgroundColor: '#FFF',\n    borderRadius: 20,\n    padding: 24,\n    marginHorizontal: 20,\n    marginVertical: 20,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 5\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 10,\n    elevation: 3\n  },\n  resultTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#2C3E50',\n    marginBottom: 8\n  },\n  resultRating: {\n    fontSize: 16,\n    color: '#F39C12',\n    marginBottom: 12,\n    fontWeight: '600'\n  },\n  resultAddress: {\n    fontSize: 14,\n    color: '#7F8C8D',\n    marginBottom: 16,\n    lineHeight: 20\n  },\n  actionButtons: {\n    flexDirection: 'row',\n    gap: 10,\n    marginBottom: 16\n  },\n  actionButton: {\n    flex: 1,\n    backgroundColor: '#ECF0F1',\n    paddingVertical: 12,\n    borderRadius: 12,\n    alignItems: 'center'\n  },\n  actionButtonText: {\n    color: '#2C3E50',\n    fontSize: 14,\n    fontWeight: '600'\n  },\n  spinAgainButton: {\n    backgroundColor: '#4ECDC4',\n    paddingVertical: 14,\n    borderRadius: 12,\n    alignItems: 'center'\n  },\n  spinAgainButtonText: {\n    color: '#FFF',\n    fontSize: 16,\n    fontWeight: 'bold',\n    letterSpacing: 1\n  }\n});","map":{"version":3,"names":["React","useState","useRef","useEffect","View","Text","TouchableOpacity","ScrollView","Animated","Linking","Platform","ActivityIndicator","StyleSheet","Location","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BACKEND_URL","WHEEL_COLORS","WheelComponent","_ref","restaurants","isSpinning","onSpinComplete","rotationValue","Value","current","_useState","_useState2","_slicedToArray","isAnimating","setIsAnimating","handleSpin","length","randomIndex","Math","floor","random","sliceDegrees","spinOffset","randomSpins","finalRotation","timing","toValue","duration","useNativeDriver","start","rotate","interpolate","inputRange","outputRange","style","styles","wheelContainer","children","wheel","transform","map","restaurant","index","rotation","slice","backgroundColor","sliceText","numberOfLines","adjustsFontSizeToFit","name","centerPoint","spinButton","spinButtonDisabled","onPress","disabled","spinButtonText","App","_useState3","_useState4","location","setLocation","_useState5","_useState6","setRestaurants","_useState7","_useState8","selectedRestaurant","setSelectedRestaurant","_useState9","_useState0","loading","setLoading","_useState1","_useState10","error","setError","_useState11","_useState12","setIsSpinning","getLocationAndRestaurants","_ref2","_asyncToGenerator","loc","getLocation","fetchRestaurants","err","Error","message","apply","arguments","_ref3","OS","Promise","resolve","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","response","fetch","data","json","_unused","_yield$Location$reque","requestForegroundPermissionsAsync","status","pos","getCurrentPositionAsync","_ref5","ok","_x","handleSpinComplete","openMaps","mapsUrl","openURL","openWebsite","websiteUrl","container","header","title","locationBadge","locationText","toFixed","contentContainerStyle","scrollContent","showsVerticalScrollIndicator","centerContent","size","color","loadingText","errorText","retryButton","retryButtonText","resultCard","resultTitle","rating","resultRating","resultAddress","address","actionButtons","actionButton","actionButtonText","spinAgainButton","spinAgainButtonText","create","flex","paddingTop","paddingHorizontal","paddingBottom","flexDirection","justifyContent","alignItems","fontSize","fontWeight","letterSpacing","paddingVertical","borderRadius","flexGrow","minHeight","marginTop","textAlign","marginHorizontal","marginVertical","width","height","overflow","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","transformOrigin","textShadowColor","textShadowOffset","textShadowRadius","top","left","marginLeft","zIndex","opacity","padding","marginBottom","lineHeight","gap"],"sources":["C:/Users/abhis/Downloads/SPINnDINE/mobile/App.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  TouchableOpacity,\r\n  ScrollView,\r\n  Animated,\r\n  Linking,\r\n  Platform,\r\n  ActivityIndicator,\r\n  StyleSheet,\r\n} from 'react-native';\r\nimport * as Location from 'expo-location';\r\n\r\nconst BACKEND_URL = 'http://localhost:5000';\r\n\r\nconst WHEEL_COLORS = [\r\n  '#FF6B6B',\r\n  '#4ECDC4',\r\n  '#45B7D1',\r\n  '#FFA07A',\r\n  '#98D8C8',\r\n  '#F7DC6F',\r\n  '#BB8FCE',\r\n  '#85C1E2',\r\n  '#F8B88B',\r\n  '#B4D7FF',\r\n];\r\n\r\ninterface Restaurant {\r\n  name: string;\r\n  rating?: number;\r\n  address: string;\r\n  photoUrl?: string;\r\n  websiteUrl?: string;\r\n  mapsUrl: string;\r\n}\r\n\r\ninterface WheelComponentProps {\r\n  restaurants: Restaurant[];\r\n  isSpinning: boolean;\r\n  onSpinComplete: (selectedRestaurant: Restaurant) => void;\r\n}\r\n\r\nconst WheelComponent: React.FC<WheelComponentProps> = ({\r\n  restaurants,\r\n  isSpinning,\r\n  onSpinComplete,\r\n}) => {\r\n  const rotationValue = useRef(new Animated.Value(0)).current;\r\n  const [isAnimating, setIsAnimating] = useState(false);\r\n\r\n  const handleSpin = () => {\r\n    if (isAnimating || restaurants.length === 0) return;\r\n\r\n    setIsAnimating(true);\r\n    const randomIndex = Math.floor(Math.random() * restaurants.length);\r\n    const sliceDegrees = 360 / restaurants.length;\r\n    const spinOffset = randomIndex * sliceDegrees + sliceDegrees / 2;\r\n    const randomSpins = 5 + Math.random() * 2;\r\n    const finalRotation = randomSpins * 360 + (360 - spinOffset);\r\n\r\n    Animated.timing(rotationValue, {\r\n      toValue: finalRotation,\r\n      duration: 4000,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setIsAnimating(false);\r\n      onSpinComplete(restaurants[randomIndex]);\r\n    });\r\n  };\r\n\r\n  const rotate = rotationValue.interpolate({\r\n    inputRange: [0, 360],\r\n    outputRange: ['0deg', '360deg'],\r\n  });\r\n\r\n  const sliceDegrees = 360 / (restaurants.length || 1);\r\n\r\n  return (\r\n    <View style={styles.wheelContainer}>\r\n      <Animated.View\r\n        style={[\r\n          styles.wheel,\r\n          {\r\n            transform: [{ rotate: rotationValue as any }],\r\n          },\r\n        ]}\r\n      >\r\n        {restaurants.map((restaurant, index) => {\r\n          const rotation = index * sliceDegrees;\r\n          return (\r\n            <View\r\n              key={index}\r\n              style={[\r\n                styles.slice,\r\n                {\r\n                  backgroundColor: WHEEL_COLORS[index % WHEEL_COLORS.length],\r\n                  transform: [{ rotate: `${rotation}deg` }],\r\n                },\r\n              ]}\r\n            >\r\n              <Text\r\n                style={styles.sliceText}\r\n                numberOfLines={2}\r\n                adjustsFontSizeToFit\r\n              >\r\n                {restaurant.name}\r\n              </Text>\r\n            </View>\r\n          );\r\n        })}\r\n      </Animated.View>\r\n\r\n      <View style={styles.centerPoint} />\r\n\r\n      <TouchableOpacity\r\n        style={[\r\n          styles.spinButton,\r\n          (isAnimating || restaurants.length === 0) && styles.spinButtonDisabled,\r\n        ]}\r\n        onPress={handleSpin}\r\n        disabled={isAnimating || restaurants.length === 0}\r\n      >\r\n        <Text style={styles.spinButtonText}>\r\n          {restaurants.length === 0 ? 'LOADING...' : 'SPIN!'}\r\n        </Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default function App() {\r\n  const [location, setLocation] = useState<{ latitude: number; longitude: number } | null>(null);\r\n  const [restaurants, setRestaurants] = useState<Restaurant[]>([]);\r\n  const [selectedRestaurant, setSelectedRestaurant] = useState<Restaurant | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isSpinning, setIsSpinning] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getLocationAndRestaurants();\r\n  }, []);\r\n\r\n  const getLocationAndRestaurants = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const loc = await getLocation();\r\n      if (loc) {\r\n        setLocation(loc);\r\n        await fetchRestaurants(loc);\r\n      }\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to get location');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getLocation = async (): Promise<{ latitude: number; longitude: number } | null> => {\r\n    try {\r\n      if (Platform.OS === 'web') {\r\n        return new Promise((resolve) => {\r\n          if ('geolocation' in navigator) {\r\n            navigator.geolocation.getCurrentPosition(\r\n              (position) => {\r\n                resolve({\r\n                  latitude: position.coords.latitude,\r\n                  longitude: position.coords.longitude,\r\n                });\r\n              },\r\n              async () => {\r\n                // Fallback to IP-based geolocation\r\n                try {\r\n                  const response = await fetch('https://ipapi.co/json/');\r\n                  const data = await response.json();\r\n                  resolve({\r\n                    latitude: data.latitude,\r\n                    longitude: data.longitude,\r\n                  });\r\n                } catch {\r\n                  resolve(null);\r\n                }\r\n              }\r\n            );\r\n          } else {\r\n            resolve(null);\r\n          }\r\n        });\r\n      } else {\r\n        // Native platform (iOS/Android) using expo-location\r\n        const { status } = await Location.requestForegroundPermissionsAsync();\r\n        if (status !== 'granted') {\r\n          throw new Error('Location permission denied');\r\n        }\r\n        const pos = await Location.getCurrentPositionAsync({});\r\n        return {\r\n          latitude: pos.coords.latitude,\r\n          longitude: pos.coords.longitude,\r\n        };\r\n      }\r\n    } catch (err) {\r\n      throw new Error('Failed to retrieve location');\r\n    }\r\n  };\r\n\r\n  const fetchRestaurants = async (loc: { latitude: number; longitude: number }) => {\r\n    try {\r\n      const response = await fetch(\r\n        `${BACKEND_URL}/api/restaurants/wheel?latitude=${loc.latitude}&longitude=${loc.longitude}&radius=10000`\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch restaurants');\r\n      }\r\n      const data = await response.json();\r\n      setRestaurants(data);\r\n    } catch (err) {\r\n      throw new Error('Failed to fetch restaurants from backend');\r\n    }\r\n  };\r\n\r\n  const handleSpinComplete = (restaurant: Restaurant) => {\r\n    setSelectedRestaurant(restaurant);\r\n  };\r\n\r\n  const openMaps = () => {\r\n    if (selectedRestaurant?.mapsUrl) {\r\n      Linking.openURL(selectedRestaurant.mapsUrl);\r\n    }\r\n  };\r\n\r\n  const openWebsite = () => {\r\n    if (selectedRestaurant?.websiteUrl) {\r\n      Linking.openURL(selectedRestaurant.websiteUrl);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Header with Location Badge */}\r\n      <View style={styles.header}>\r\n        <Text style={styles.title}>SPIN & DINE</Text>\r\n        {location && (\r\n          <View style={styles.locationBadge}>\r\n            <Text style={styles.locationText}>\r\n              üìç {location.latitude.toFixed(2)}, {location.longitude.toFixed(2)}\r\n            </Text>\r\n          </View>\r\n        )}\r\n      </View>\r\n\r\n      {/* Main Content */}\r\n      <ScrollView\r\n        contentContainerStyle={styles.scrollContent}\r\n        showsVerticalScrollIndicator={false}\r\n      >\r\n        {loading ? (\r\n          <View style={styles.centerContent}>\r\n            <ActivityIndicator size=\"large\" color=\"#4ECDC4\" />\r\n            <Text style={styles.loadingText}>Getting your location...</Text>\r\n          </View>\r\n        ) : error ? (\r\n          <View style={styles.centerContent}>\r\n            <Text style={styles.errorText}>{error}</Text>\r\n            <TouchableOpacity\r\n              style={styles.retryButton}\r\n              onPress={getLocationAndRestaurants}\r\n            >\r\n              <Text style={styles.retryButtonText}>Retry</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        ) : (\r\n          <>\r\n            {/* Wheel Component */}\r\n            {restaurants.length > 0 && (\r\n              <WheelComponent\r\n                restaurants={restaurants}\r\n                isSpinning={isSpinning}\r\n                onSpinComplete={handleSpinComplete}\r\n              />\r\n            )}\r\n\r\n            {/* Result Card */}\r\n            {selectedRestaurant && (\r\n              <View style={styles.resultCard}>\r\n                <Text style={styles.resultTitle}>{selectedRestaurant.name}</Text>\r\n\r\n                {selectedRestaurant.rating && (\r\n                  <Text style={styles.resultRating}>\r\n                    ‚≠ê {selectedRestaurant.rating.toFixed(1)} / 5\r\n                  </Text>\r\n                )}\r\n\r\n                <Text style={styles.resultAddress}>{selectedRestaurant.address}</Text>\r\n\r\n                <View style={styles.actionButtons}>\r\n                  <TouchableOpacity\r\n                    style={styles.actionButton}\r\n                    onPress={openMaps}\r\n                  >\r\n                    <Text style={styles.actionButtonText}>üìç Maps</Text>\r\n                  </TouchableOpacity>\r\n\r\n                  {selectedRestaurant.websiteUrl && (\r\n                    <TouchableOpacity\r\n                      style={styles.actionButton}\r\n                      onPress={openWebsite}\r\n                    >\r\n                      <Text style={styles.actionButtonText}>üåê Website</Text>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                </View>\r\n\r\n                <TouchableOpacity\r\n                  style={styles.spinAgainButton}\r\n                  onPress={() => setSelectedRestaurant(null)}\r\n                >\r\n                  <Text style={styles.spinAgainButtonText}>Spin Again</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          </>\r\n        )}\r\n      </ScrollView>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#F5F5F5',\r\n  },\r\n  header: {\r\n    backgroundColor: '#2C3E50',\r\n    paddingTop: 40,\r\n    paddingHorizontal: 20,\r\n    paddingBottom: 20,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  title: {\r\n    fontSize: 28,\r\n    fontWeight: 'bold',\r\n    color: '#FFF',\r\n    letterSpacing: 2,\r\n  },\r\n  locationBadge: {\r\n    backgroundColor: '#34495E',\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 8,\r\n    borderRadius: 20,\r\n  },\r\n  locationText: {\r\n    color: '#4ECDC4',\r\n    fontSize: 12,\r\n    fontWeight: '600',\r\n  },\r\n  scrollContent: {\r\n    flexGrow: 1,\r\n    alignItems: 'center',\r\n    paddingVertical: 20,\r\n  },\r\n  centerContent: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    minHeight: 400,\r\n  },\r\n  loadingText: {\r\n    marginTop: 16,\r\n    fontSize: 16,\r\n    color: '#7F8C8D',\r\n  },\r\n  errorText: {\r\n    fontSize: 16,\r\n    color: '#E74C3C',\r\n    textAlign: 'center',\r\n    marginHorizontal: 20,\r\n  },\r\n  retryButton: {\r\n    marginTop: 20,\r\n    backgroundColor: '#4ECDC4',\r\n    paddingHorizontal: 30,\r\n    paddingVertical: 12,\r\n    borderRadius: 25,\r\n  },\r\n  retryButtonText: {\r\n    color: '#FFF',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  wheelContainer: {\r\n    alignItems: 'center',\r\n    marginVertical: 30,\r\n  },\r\n  wheel: {\r\n    width: 280,\r\n    height: 280,\r\n    borderRadius: 140,\r\n    overflow: 'hidden',\r\n    backgroundColor: '#E8E8E8',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 10 },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 20,\r\n    elevation: 10,\r\n  },\r\n  slice: {\r\n    position: 'absolute',\r\n    width: 140,\r\n    height: 140,\r\n    transformOrigin: 'bottom center',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  sliceText: {\r\n    color: '#FFF',\r\n    fontSize: 12,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    textShadowColor: 'rgba(0, 0, 0, 0.3)',\r\n    textShadowOffset: { width: 1, height: 1 },\r\n    textShadowRadius: 2,\r\n  },\r\n  centerPoint: {\r\n    position: 'absolute',\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#2C3E50',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginLeft: -20,\r\n    marginTop: -20,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 10,\r\n    elevation: 8,\r\n    zIndex: 10,\r\n  },\r\n  spinButton: {\r\n    backgroundColor: '#4ECDC4',\r\n    paddingHorizontal: 40,\r\n    paddingVertical: 14,\r\n    borderRadius: 25,\r\n    marginTop: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.2,\r\n    shadowRadius: 10,\r\n    elevation: 5,\r\n  },\r\n  spinButtonDisabled: {\r\n    backgroundColor: '#BDC3C7',\r\n    opacity: 0.6,\r\n  },\r\n  spinButtonText: {\r\n    color: '#FFF',\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    letterSpacing: 1,\r\n  },\r\n  resultCard: {\r\n    backgroundColor: '#FFF',\r\n    borderRadius: 20,\r\n    padding: 24,\r\n    marginHorizontal: 20,\r\n    marginVertical: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 10,\r\n    elevation: 3,\r\n  },\r\n  resultTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#2C3E50',\r\n    marginBottom: 8,\r\n  },\r\n  resultRating: {\r\n    fontSize: 16,\r\n    color: '#F39C12',\r\n    marginBottom: 12,\r\n    fontWeight: '600',\r\n  },\r\n  resultAddress: {\r\n    fontSize: 14,\r\n    color: '#7F8C8D',\r\n    marginBottom: 16,\r\n    lineHeight: 20,\r\n  },\r\n  actionButtons: {\r\n    flexDirection: 'row',\r\n    gap: 10,\r\n    marginBottom: 16,\r\n  },\r\n  actionButton: {\r\n    flex: 1,\r\n    backgroundColor: '#ECF0F1',\r\n    paddingVertical: 12,\r\n    borderRadius: 12,\r\n    alignItems: 'center',\r\n  },\r\n  actionButtonText: {\r\n    color: '#2C3E50',\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n  },\r\n  spinAgainButton: {\r\n    backgroundColor: '#4ECDC4',\r\n    paddingVertical: 14,\r\n    borderRadius: 12,\r\n    alignItems: 'center',\r\n  },\r\n  spinAgainButtonText: {\r\n    color: '#FFF',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    letterSpacing: 1,\r\n  },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}