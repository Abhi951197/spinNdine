{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport * as Location from 'expo-location';\nimport Svg, { G, Path, Text as SvgText, Circle } from 'react-native-svg';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar BACKEND_URL = 'http://192.168.0.100:5000';\nvar _Dimensions$get = Dimensions.get('window'),\n  width = _Dimensions$get.width;\nvar WHEEL_SIZE = Math.min(width - 60, 350);\nvar COLORS = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8', '#F7DC6F', '#BB8FCE', '#85C1E2', '#F8B739', '#52B788'];\nexport default function App() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    location = _useState2[0],\n    setLocation = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    restaurants = _useState4[0],\n    setRestaurants = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedRestaurant = _useState6[0],\n    setSelectedRestaurant = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    loading = _useState8[0],\n    setLoading = _useState8[1];\n  var _useState9 = useState(true),\n    _useState0 = _slicedToArray(_useState9, 2),\n    locationLoading = _useState0[0],\n    setLocationLoading = _useState0[1];\n  var _useState1 = useState(null),\n    _useState10 = _slicedToArray(_useState1, 2),\n    error = _useState10[0],\n    setError = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    isSpinning = _useState12[0],\n    setIsSpinning = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    showResult = _useState14[0],\n    setShowResult = _useState14[1];\n  var spinValue = useRef(new Animated.Value(0)).current;\n  useEffect(function () {\n    getLocation();\n  }, []);\n  useEffect(function () {\n    if (location) {\n      fetchRestaurants(location.latitude, location.longitude);\n    }\n  }, [location]);\n  var getLocation = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        setLocationLoading(true);\n        setError(null);\n        if (Platform.OS !== 'web') {\n          var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n            status = _yield$Location$reque.status;\n          if (status !== 'granted') {\n            setError('Permission to access location was denied');\n            setLocationLoading(false);\n            setLocation({\n              latitude: 40.7128,\n              longitude: -74.0060\n            });\n            return;\n          }\n          var locationData = yield Location.getCurrentPositionAsync({\n            accuracy: Location.Accuracy.High\n          });\n          var _locationData$coords = locationData.coords,\n            latitude = _locationData$coords.latitude,\n            longitude = _locationData$coords.longitude;\n          setLocation({\n            latitude: latitude,\n            longitude: longitude\n          });\n          setLocationLoading(false);\n          return;\n        }\n        if (Platform.OS === 'web' && typeof navigator !== 'undefined' && 'geolocation' in navigator) {\n          navigator.geolocation.getCurrentPosition(function (pos) {\n            var _ref2 = pos.coords,\n              latitude = _ref2.latitude,\n              longitude = _ref2.longitude;\n            setLocation({\n              latitude: latitude,\n              longitude: longitude\n            });\n            setLocationLoading(false);\n          }, function () {\n            var _ref3 = _asyncToGenerator(function* (err) {\n              console.warn('Browser geolocation failed, falling back to IP lookup', err);\n              try {\n                var resp = yield fetch('https://ipapi.co/json/');\n                var j = yield resp.json();\n                setLocation({\n                  latitude: j.latitude,\n                  longitude: j.longitude\n                });\n              } catch (e) {\n                setLocation({\n                  latitude: 40.7128,\n                  longitude: -74.0060\n                });\n              }\n              setLocationLoading(false);\n            });\n            return function (_x) {\n              return _ref3.apply(this, arguments);\n            };\n          }(), {\n            enableHighAccuracy: true,\n            timeout: 10000\n          });\n          return;\n        }\n      } catch (err) {\n        console.error('Error getting location:', err);\n        setError('Failed to get location');\n        setLocationLoading(false);\n        setLocation({\n          latitude: 40.7128,\n          longitude: -74.0060\n        });\n      }\n    });\n    return function getLocation() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var fetchRestaurants = function () {\n    var _ref4 = _asyncToGenerator(function* (lat, lng) {\n      try {\n        setLoading(true);\n        setError(null);\n        var res = yield fetch(`${BACKEND_URL}/api/random-restaurant`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            latitude: lat,\n            longitude: lng,\n            radius: 5000\n          })\n        });\n        var data = yield res.json();\n        if (data.success) {\n          var restaurantsList = [data.restaurant];\n          var _loop = function* _loop() {\n            var res2 = yield fetch(`${BACKEND_URL}/api/random-restaurant`, {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                latitude: lat,\n                longitude: lng,\n                radius: 5000\n              })\n            });\n            var data2 = yield res2.json();\n            if (data2.success) {\n              if (!restaurantsList.find(function (r) {\n                return r.fsqId === data2.restaurant.fsqId;\n              })) {\n                restaurantsList.push(data2.restaurant);\n              }\n            }\n          };\n          for (var i = 0; i < 9; i++) {\n            yield* _loop();\n          }\n          setRestaurants(restaurantsList);\n        } else {\n          setError(data.error || 'Failed to fetch restaurants');\n        }\n      } catch (err) {\n        console.error('Error:', err);\n        setError(err.message || 'Failed to connect to backend. Make sure it\\'s running.');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function fetchRestaurants(_x2, _x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var spinWheel = function spinWheel() {\n    if (isSpinning || restaurants.length === 0) return;\n    setIsSpinning(true);\n    setShowResult(false);\n    setSelectedRestaurant(null);\n    var randomIndex = Math.floor(Math.random() * restaurants.length);\n    var segmentAngle = 360 / restaurants.length;\n    var targetAngle = 360 * 5 + randomIndex * segmentAngle + segmentAngle / 2;\n    spinValue.setValue(0);\n    Animated.timing(spinValue, {\n      toValue: targetAngle,\n      duration: 4000,\n      useNativeDriver: true\n    }).start(function () {\n      setSelectedRestaurant(restaurants[randomIndex]);\n      setShowResult(true);\n      setIsSpinning(false);\n    });\n  };\n  var resetSpin = function resetSpin() {\n    setShowResult(false);\n    setSelectedRestaurant(null);\n    spinValue.setValue(0);\n    if (location) {\n      fetchRestaurants(location.latitude, location.longitude);\n    }\n  };\n  var openLink = function openLink(url) {\n    if (!url) {\n      Alert.alert('Not Available', 'This link is not available');\n      return;\n    }\n    Linking.openURL(url).catch(function () {\n      Alert.alert('Error', 'Could not open the link');\n    });\n  };\n  var renderWheel = function renderWheel() {\n    if (restaurants.length === 0) return null;\n    var numberOfSegments = restaurants.length;\n    var anglePerSegment = 360 / numberOfSegments;\n    var radius = WHEEL_SIZE / 2;\n    var spin = spinValue.interpolate({\n      inputRange: [0, 360],\n      outputRange: ['0deg', '360deg']\n    });\n    return _jsxs(View, {\n      style: styles.wheelContainer,\n      children: [_jsx(Animated.View, {\n        style: {\n          transform: [{\n            rotate: spin\n          }]\n        },\n        children: _jsx(Svg, {\n          width: WHEEL_SIZE,\n          height: WHEEL_SIZE,\n          children: _jsxs(G, {\n            x: radius,\n            y: radius,\n            children: [restaurants.map(function (restaurant, index) {\n              var startAngle = index * anglePerSegment;\n              var endAngle = startAngle + anglePerSegment;\n              var startAngleRad = (startAngle - 90) * (Math.PI / 180);\n              var endAngleRad = (endAngle - 90) * (Math.PI / 180);\n              var x1 = radius * Math.cos(startAngleRad);\n              var y1 = radius * Math.sin(startAngleRad);\n              var x2 = radius * Math.cos(endAngleRad);\n              var y2 = radius * Math.sin(endAngleRad);\n              var largeArcFlag = anglePerSegment > 180 ? 1 : 0;\n              var pathData = `M 0 0 L ${x1} ${y1} A ${radius} ${radius} 0 ${largeArcFlag} 1 ${x2} ${y2} Z`;\n              var textAngle = startAngle + anglePerSegment / 2;\n              var textAngleRad = (textAngle - 90) * (Math.PI / 180);\n              var textRadius = radius * 0.65;\n              var textX = textRadius * Math.cos(textAngleRad);\n              var textY = textRadius * Math.sin(textAngleRad);\n              var restaurantName = restaurant.name.length > 12 ? restaurant.name.substring(0, 12) + '...' : restaurant.name;\n              return _jsxs(G, {\n                children: [_jsx(Path, {\n                  d: pathData,\n                  fill: COLORS[index % COLORS.length],\n                  stroke: \"#fff\",\n                  strokeWidth: \"2\"\n                }), _jsx(SvgText, {\n                  x: textX,\n                  y: textY,\n                  fill: \"white\",\n                  fontSize: \"11\",\n                  fontWeight: \"bold\",\n                  textAnchor: \"middle\",\n                  transform: `rotate(${textAngle}, ${textX}, ${textY})`,\n                  children: restaurantName\n                })]\n              }, restaurant.fsqId);\n            }), _jsx(Circle, {\n              cx: 0,\n              cy: 0,\n              r: 25,\n              fill: \"#fff\",\n              stroke: \"#333\",\n              strokeWidth: \"3\"\n            })]\n          })\n        })\n      }), _jsx(View, {\n        style: styles.pointer,\n        children: _jsx(View, {\n          style: styles.pointerTriangle\n        })\n      })]\n    });\n  };\n  if (locationLoading || loading) {\n    return _jsxs(View, {\n      style: styles.loadingContainer,\n      children: [_jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#FF6B6B\"\n      }), _jsx(Text, {\n        style: styles.loadingText,\n        children: locationLoading ? 'Getting your location...' : 'Finding restaurants...'\n      })]\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"\\uD83C\\uDFA1 SpinDine\"\n      }), _jsx(Text, {\n        style: styles.subtitle,\n        children: \"Spin the wheel to discover your next meal!\"\n      })]\n    }), _jsxs(ScrollView, {\n      style: styles.content,\n      showsVerticalScrollIndicator: false,\n      children: [error && _jsx(View, {\n        style: styles.errorCard,\n        children: _jsxs(Text, {\n          style: styles.errorText,\n          children: [\"\\u26A0\\uFE0F \", error]\n        })\n      }), !showResult && restaurants.length > 0 && _jsxs(View, {\n        style: styles.wheelSection,\n        children: [renderWheel(), _jsx(TouchableOpacity, {\n          style: [styles.spinButton, isSpinning && styles.spinButtonDisabled],\n          onPress: spinWheel,\n          disabled: isSpinning,\n          children: _jsx(Text, {\n            style: styles.spinButtonText,\n            children: isSpinning ? 'üé∞ SPINNING...' : 'üéØ SPIN THE WHEEL'\n          })\n        }), _jsxs(Text, {\n          style: styles.restaurantCount,\n          children: [restaurants.length, \" restaurants loaded\"]\n        })]\n      }), showResult && selectedRestaurant && _jsxs(View, {\n        style: styles.resultContainer,\n        children: [_jsx(Text, {\n          style: styles.resultTitle,\n          children: \"\\uD83C\\uDF89 Your Restaurant!\"\n        }), _jsxs(View, {\n          style: styles.restaurantCard,\n          children: [selectedRestaurant.photoUrl && _jsx(Image, {\n            source: {\n              uri: selectedRestaurant.photoUrl\n            },\n            style: styles.restaurantPhoto,\n            onError: function onError() {\n              return console.log('Failed to load image');\n            }\n          }), _jsx(Text, {\n            style: styles.restaurantName,\n            children: selectedRestaurant.name\n          }), selectedRestaurant.rating && _jsx(View, {\n            style: styles.ratingContainer,\n            children: _jsxs(Text, {\n              style: styles.ratingText,\n              children: [\"\\u2B50 \", selectedRestaurant.rating.toFixed(1), \"/10\"]\n            })\n          }), _jsxs(Text, {\n            style: styles.address,\n            children: [\"\\uD83D\\uDCCD \", selectedRestaurant.address]\n          }), _jsxs(View, {\n            style: styles.buttonGroup,\n            children: [selectedRestaurant.mapsUrl && _jsx(TouchableOpacity, {\n              style: [styles.actionButton, styles.mapsButton],\n              onPress: function onPress() {\n                return openLink(selectedRestaurant.mapsUrl);\n              },\n              children: _jsx(Text, {\n                style: styles.actionButtonText,\n                children: \"\\uD83D\\uDCCD Open Maps\"\n              })\n            }), selectedRestaurant.website && _jsx(TouchableOpacity, {\n              style: [styles.actionButton, styles.websiteButton],\n              onPress: function onPress() {\n                return openLink(selectedRestaurant.website);\n              },\n              children: _jsx(Text, {\n                style: styles.actionButtonText,\n                children: \"\\uD83C\\uDF10 Menu\"\n              })\n            })]\n          }), _jsx(TouchableOpacity, {\n            style: styles.resetButton,\n            onPress: resetSpin,\n            children: _jsx(Text, {\n              style: styles.resetButtonText,\n              children: \"\\uD83D\\uDD04 SPIN AGAIN\"\n            })\n          })]\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: styles.refreshButton,\n        onPress: function onPress() {\n          return location && fetchRestaurants(location.latitude, location.longitude);\n        },\n        children: _jsx(Text, {\n          style: styles.refreshButtonText,\n          children: \"\\uD83D\\uDD04 Load New Restaurants\"\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#0F172A'\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#0F172A'\n  },\n  loadingText: {\n    marginTop: 15,\n    fontSize: 16,\n    color: '#E2E8F0',\n    fontWeight: '500'\n  },\n  header: {\n    backgroundColor: '#1E293B',\n    padding: 25,\n    paddingTop: 60,\n    alignItems: 'center',\n    borderBottomWidth: 3,\n    borderBottomColor: '#FF6B6B'\n  },\n  title: {\n    fontSize: 38,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 8\n  },\n  subtitle: {\n    fontSize: 15,\n    color: '#94A3B8',\n    textAlign: 'center'\n  },\n  content: {\n    flex: 1,\n    padding: 20\n  },\n  errorCard: {\n    backgroundColor: '#FEE2E2',\n    borderRadius: 12,\n    padding: 15,\n    marginBottom: 20,\n    borderLeftWidth: 4,\n    borderLeftColor: '#DC2626'\n  },\n  errorText: {\n    color: '#991B1B',\n    fontSize: 14,\n    fontWeight: '600'\n  },\n  wheelSection: {\n    alignItems: 'center',\n    marginVertical: 20\n  },\n  wheelContainer: {\n    position: 'relative',\n    marginBottom: 30\n  },\n  pointer: {\n    position: 'absolute',\n    top: -15,\n    left: '50%',\n    marginLeft: -15,\n    zIndex: 10\n  },\n  pointerTriangle: {\n    width: 0,\n    height: 0,\n    borderLeftWidth: 15,\n    borderRightWidth: 15,\n    borderTopWidth: 30,\n    borderLeftColor: 'transparent',\n    borderRightColor: 'transparent',\n    borderTopColor: '#FBBF24'\n  },\n  spinButton: {\n    backgroundColor: '#FF6B6B',\n    paddingVertical: 18,\n    paddingHorizontal: 50,\n    borderRadius: 50,\n    shadowColor: '#FF6B6B',\n    shadowOffset: {\n      width: 0,\n      height: 8\n    },\n    shadowOpacity: 0.4,\n    shadowRadius: 12,\n    elevation: 8\n  },\n  spinButtonDisabled: {\n    backgroundColor: '#94A3B8',\n    shadowColor: '#94A3B8'\n  },\n  spinButtonText: {\n    color: '#fff',\n    fontSize: 18,\n    fontWeight: 'bold',\n    letterSpacing: 1.5\n  },\n  restaurantCount: {\n    marginTop: 15,\n    fontSize: 14,\n    color: '#94A3B8',\n    fontWeight: '500'\n  },\n  resultContainer: {\n    marginTop: 20\n  },\n  resultTitle: {\n    fontSize: 28,\n    fontWeight: 'bold',\n    color: '#fff',\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  restaurantCard: {\n    backgroundColor: '#1E293B',\n    borderRadius: 20,\n    padding: 20,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 10\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 20,\n    elevation: 10,\n    borderWidth: 2,\n    borderColor: '#334155'\n  },\n  restaurantPhoto: {\n    width: '100%',\n    height: 280,\n    borderRadius: 15,\n    marginBottom: 20\n  },\n  restaurantName: {\n    fontSize: 26,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 12,\n    textAlign: 'center'\n  },\n  ratingContainer: {\n    alignSelf: 'center',\n    backgroundColor: '#FF6B6B',\n    paddingHorizontal: 15,\n    paddingVertical: 8,\n    borderRadius: 20,\n    marginBottom: 15\n  },\n  ratingText: {\n    fontSize: 16,\n    color: '#fff',\n    fontWeight: 'bold'\n  },\n  address: {\n    fontSize: 15,\n    color: '#94A3B8',\n    marginBottom: 20,\n    lineHeight: 22,\n    textAlign: 'center'\n  },\n  buttonGroup: {\n    flexDirection: 'row',\n    gap: 12,\n    marginBottom: 20\n  },\n  actionButton: {\n    flex: 1,\n    paddingVertical: 14,\n    borderRadius: 12,\n    alignItems: 'center'\n  },\n  mapsButton: {\n    backgroundColor: '#3B82F6'\n  },\n  websiteButton: {\n    backgroundColor: '#10B981'\n  },\n  actionButtonText: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 15\n  },\n  resetButton: {\n    backgroundColor: '#475569',\n    paddingVertical: 14,\n    borderRadius: 12,\n    alignItems: 'center'\n  },\n  resetButtonText: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 15\n  },\n  refreshButton: {\n    backgroundColor: '#334155',\n    paddingVertical: 14,\n    borderRadius: 12,\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 30\n  },\n  refreshButtonText: {\n    color: '#E2E8F0',\n    fontWeight: '600',\n    fontSize: 15\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","View","Text","StyleSheet","ActivityIndicator","ScrollView","TouchableOpacity","Image","Linking","Alert","Platform","Animated","Dimensions","Location","Svg","G","Path","SvgText","Circle","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","_Dimensions$get","get","width","WHEEL_SIZE","Math","min","COLORS","App","_useState","_useState2","_slicedToArray","location","setLocation","_useState3","_useState4","restaurants","setRestaurants","_useState5","_useState6","selectedRestaurant","setSelectedRestaurant","_useState7","_useState8","loading","setLoading","_useState9","_useState0","locationLoading","setLocationLoading","_useState1","_useState10","error","setError","_useState11","_useState12","isSpinning","setIsSpinning","_useState13","_useState14","showResult","setShowResult","spinValue","Value","current","getLocation","fetchRestaurants","latitude","longitude","_ref","_asyncToGenerator","OS","_yield$Location$reque","requestForegroundPermissionsAsync","status","locationData","getCurrentPositionAsync","accuracy","Accuracy","High","_locationData$coords","coords","navigator","geolocation","getCurrentPosition","pos","_ref2","_ref3","err","console","warn","resp","fetch","j","json","e","_x","apply","arguments","enableHighAccuracy","timeout","_ref4","lat","lng","res","method","headers","body","JSON","stringify","radius","data","success","restaurantsList","restaurant","_loop","res2","data2","find","r","fsqId","push","i","message","_x2","_x3","spinWheel","length","randomIndex","floor","random","segmentAngle","targetAngle","setValue","timing","toValue","duration","useNativeDriver","start","resetSpin","openLink","url","alert","openURL","catch","renderWheel","numberOfSegments","anglePerSegment","spin","interpolate","inputRange","outputRange","style","styles","wheelContainer","children","transform","rotate","height","x","y","map","index","startAngle","endAngle","startAngleRad","PI","endAngleRad","x1","cos","y1","sin","x2","y2","largeArcFlag","pathData","textAngle","textAngleRad","textRadius","textX","textY","restaurantName","name","substring","d","fill","stroke","strokeWidth","fontSize","fontWeight","textAnchor","cx","cy","pointer","pointerTriangle","loadingContainer","size","color","loadingText","container","header","title","subtitle","content","showsVerticalScrollIndicator","errorCard","errorText","wheelSection","spinButton","spinButtonDisabled","onPress","disabled","spinButtonText","restaurantCount","resultContainer","resultTitle","restaurantCard","photoUrl","source","uri","restaurantPhoto","onError","log","rating","ratingContainer","ratingText","toFixed","address","buttonGroup","mapsUrl","actionButton","mapsButton","actionButtonText","website","websiteButton","resetButton","resetButtonText","refreshButton","refreshButtonText","create","flex","backgroundColor","justifyContent","alignItems","marginTop","padding","paddingTop","borderBottomWidth","borderBottomColor","marginBottom","textAlign","borderRadius","borderLeftWidth","borderLeftColor","marginVertical","position","top","left","marginLeft","zIndex","borderRightWidth","borderTopWidth","borderRightColor","borderTopColor","paddingVertical","paddingHorizontal","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","letterSpacing","borderWidth","borderColor","alignSelf","lineHeight","flexDirection","gap"],"sources":["C:/Users/abhis/Downloads/SPINnDINE/mobile/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  ActivityIndicator,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  Image,\r\n  Linking,\r\n  Alert,\r\n  Platform,\r\n  Animated,\r\n  Dimensions,\r\n} from 'react-native';\r\nimport * as Location from 'expo-location';\r\nimport Svg, { G, Path, Text as SvgText, Circle } from 'react-native-svg';\r\n\r\n// Change this to your backend URL\r\nconst BACKEND_URL = 'http://192.168.0.100:5000';\r\n\r\nconst { width } = Dimensions.get('window');\r\nconst WHEEL_SIZE = Math.min(width - 60, 350);\r\n\r\ninterface Restaurant {\r\n  name: string;\r\n  rating: number | null;\r\n  address: string;\r\n  photoUrl: string | null;\r\n  website: string | null;\r\n  mapsUrl: string | null;\r\n  fsqId: string;\r\n}\r\n\r\ninterface LocationData {\r\n  latitude: number;\r\n  longitude: number;\r\n}\r\n\r\nconst COLORS = [\r\n  '#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8',\r\n  '#F7DC6F', '#BB8FCE', '#85C1E2', '#F8B739', '#52B788'\r\n];\r\n\r\nexport default function App() {\r\n  const [location, setLocation] = useState<LocationData | null>(null);\r\n  const [restaurants, setRestaurants] = useState<Restaurant[]>([]);\r\n  const [selectedRestaurant, setSelectedRestaurant] = useState<Restaurant | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [locationLoading, setLocationLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isSpinning, setIsSpinning] = useState(false);\r\n  const [showResult, setShowResult] = useState(false);\r\n  \r\n  const spinValue = useRef(new Animated.Value(0)).current;\r\n\r\n  useEffect(() => {\r\n    getLocation();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (location) {\r\n      fetchRestaurants(location.latitude, location.longitude);\r\n    }\r\n  }, [location]);\r\n\r\n  const getLocation = async () => {\r\n    try {\r\n      setLocationLoading(true);\r\n      setError(null);\r\n      \r\n      if (Platform.OS !== 'web') {\r\n        let { status } = await Location.requestForegroundPermissionsAsync();\r\n        if (status !== 'granted') {\r\n          setError('Permission to access location was denied');\r\n          setLocationLoading(false);\r\n          setLocation({ latitude: 40.7128, longitude: -74.0060 });\r\n          return;\r\n        }\r\n\r\n        const locationData = await Location.getCurrentPositionAsync({\r\n          accuracy: Location.Accuracy.High,\r\n        });\r\n\r\n        const { latitude, longitude } = locationData.coords;\r\n        setLocation({ latitude, longitude });\r\n        setLocationLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (Platform.OS === 'web' && typeof navigator !== 'undefined' && 'geolocation' in navigator) {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (pos) => {\r\n            const { latitude, longitude } = pos.coords as any;\r\n            setLocation({ latitude, longitude });\r\n            setLocationLoading(false);\r\n          },\r\n          async (err) => {\r\n            console.warn('Browser geolocation failed, falling back to IP lookup', err);\r\n            try {\r\n              const resp = await fetch('https://ipapi.co/json/');\r\n              const j = await resp.json();\r\n              setLocation({ latitude: j.latitude, longitude: j.longitude });\r\n            } catch (e) {\r\n              setLocation({ latitude: 40.7128, longitude: -74.0060 });\r\n            }\r\n            setLocationLoading(false);\r\n          },\r\n          { enableHighAccuracy: true, timeout: 10000 }\r\n        );\r\n        return;\r\n      }\r\n    } catch (err) {\r\n      console.error('Error getting location:', err);\r\n      setError('Failed to get location');\r\n      setLocationLoading(false);\r\n      setLocation({ latitude: 40.7128, longitude: -74.0060 });\r\n    }\r\n  };\r\n\r\n  const fetchRestaurants = async (lat: number, lng: number) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const res = await fetch(`${BACKEND_URL}/api/random-restaurant`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ latitude: lat, longitude: lng, radius: 5000 }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (data.success) {\r\n        // Fetch multiple times to get 10 restaurants\r\n        const restaurantsList: Restaurant[] = [data.restaurant];\r\n        \r\n        for (let i = 0; i < 9; i++) {\r\n          const res2 = await fetch(`${BACKEND_URL}/api/random-restaurant`, {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ latitude: lat, longitude: lng, radius: 5000 }),\r\n          });\r\n          const data2 = await res2.json();\r\n          if (data2.success) {\r\n            // Avoid duplicates\r\n            if (!restaurantsList.find(r => r.fsqId === data2.restaurant.fsqId)) {\r\n              restaurantsList.push(data2.restaurant);\r\n            }\r\n          }\r\n        }\r\n        \r\n        setRestaurants(restaurantsList);\r\n      } else {\r\n        setError(data.error || 'Failed to fetch restaurants');\r\n      }\r\n    } catch (err: any) {\r\n      console.error('Error:', err);\r\n      setError(err.message || 'Failed to connect to backend. Make sure it\\'s running.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const spinWheel = () => {\r\n    if (isSpinning || restaurants.length === 0) return;\r\n\r\n    setIsSpinning(true);\r\n    setShowResult(false);\r\n    setSelectedRestaurant(null);\r\n\r\n    const randomIndex = Math.floor(Math.random() * restaurants.length);\r\n    const segmentAngle = 360 / restaurants.length;\r\n    const targetAngle = 360 * 5 + (randomIndex * segmentAngle) + (segmentAngle / 2);\r\n\r\n    spinValue.setValue(0);\r\n\r\n    Animated.timing(spinValue, {\r\n      toValue: targetAngle,\r\n      duration: 4000,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setSelectedRestaurant(restaurants[randomIndex]);\r\n      setShowResult(true);\r\n      setIsSpinning(false);\r\n    });\r\n  };\r\n\r\n  const resetSpin = () => {\r\n    setShowResult(false);\r\n    setSelectedRestaurant(null);\r\n    spinValue.setValue(0);\r\n    if (location) {\r\n      fetchRestaurants(location.latitude, location.longitude);\r\n    }\r\n  };\r\n\r\n  const openLink = (url: string | null) => {\r\n    if (!url) {\r\n      Alert.alert('Not Available', 'This link is not available');\r\n      return;\r\n    }\r\n    Linking.openURL(url).catch(() => {\r\n      Alert.alert('Error', 'Could not open the link');\r\n    });\r\n  };\r\n\r\n  const renderWheel = () => {\r\n    if (restaurants.length === 0) return null;\r\n\r\n    const numberOfSegments = restaurants.length;\r\n    const anglePerSegment = 360 / numberOfSegments;\r\n    const radius = WHEEL_SIZE / 2;\r\n\r\n    const spin = spinValue.interpolate({\r\n      inputRange: [0, 360],\r\n      outputRange: ['0deg', '360deg'],\r\n    });\r\n\r\n    return (\r\n      <View style={styles.wheelContainer}>\r\n        <Animated.View style={{ transform: [{ rotate: spin }] }}>\r\n          <Svg width={WHEEL_SIZE} height={WHEEL_SIZE}>\r\n            <G x={radius} y={radius}>\r\n              {restaurants.map((restaurant, index) => {\r\n                const startAngle = index * anglePerSegment;\r\n                const endAngle = startAngle + anglePerSegment;\r\n                \r\n                const startAngleRad = (startAngle - 90) * (Math.PI / 180);\r\n                const endAngleRad = (endAngle - 90) * (Math.PI / 180);\r\n                \r\n                const x1 = radius * Math.cos(startAngleRad);\r\n                const y1 = radius * Math.sin(startAngleRad);\r\n                const x2 = radius * Math.cos(endAngleRad);\r\n                const y2 = radius * Math.sin(endAngleRad);\r\n                \r\n                const largeArcFlag = anglePerSegment > 180 ? 1 : 0;\r\n                \r\n                const pathData = `M 0 0 L ${x1} ${y1} A ${radius} ${radius} 0 ${largeArcFlag} 1 ${x2} ${y2} Z`;\r\n                \r\n                const textAngle = startAngle + anglePerSegment / 2;\r\n                const textAngleRad = (textAngle - 90) * (Math.PI / 180);\r\n                const textRadius = radius * 0.65;\r\n                const textX = textRadius * Math.cos(textAngleRad);\r\n                const textY = textRadius * Math.sin(textAngleRad);\r\n                \r\n                const restaurantName = restaurant.name.length > 12 \r\n                  ? restaurant.name.substring(0, 12) + '...' \r\n                  : restaurant.name;\r\n                \r\n                return (\r\n                  <G key={restaurant.fsqId}>\r\n                    <Path\r\n                      d={pathData}\r\n                      fill={COLORS[index % COLORS.length]}\r\n                      stroke=\"#fff\"\r\n                      strokeWidth=\"2\"\r\n                    />\r\n                    <SvgText\r\n                      x={textX}\r\n                      y={textY}\r\n                      fill=\"white\"\r\n                      fontSize=\"11\"\r\n                      fontWeight=\"bold\"\r\n                      textAnchor=\"middle\"\r\n                      transform={`rotate(${textAngle}, ${textX}, ${textY})`}\r\n                    >\r\n                      {restaurantName}\r\n                    </SvgText>\r\n                  </G>\r\n                );\r\n              })}\r\n              <Circle cx={0} cy={0} r={25} fill=\"#fff\" stroke=\"#333\" strokeWidth=\"3\" />\r\n            </G>\r\n          </Svg>\r\n        </Animated.View>\r\n        \r\n        {/* Pointer */}\r\n        <View style={styles.pointer}>\r\n          <View style={styles.pointerTriangle} />\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  if (locationLoading || loading) {\r\n    return (\r\n      <View style={styles.loadingContainer}>\r\n        <ActivityIndicator size=\"large\" color=\"#FF6B6B\" />\r\n        <Text style={styles.loadingText}>\r\n          {locationLoading ? 'Getting your location...' : 'Finding restaurants...'}\r\n        </Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.header}>\r\n        <Text style={styles.title}>üé° SpinDine</Text>\r\n        <Text style={styles.subtitle}>Spin the wheel to discover your next meal!</Text>\r\n      </View>\r\n\r\n      <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\r\n        {error && (\r\n          <View style={styles.errorCard}>\r\n            <Text style={styles.errorText}>‚ö†Ô∏è {error}</Text>\r\n          </View>\r\n        )}\r\n\r\n        {!showResult && restaurants.length > 0 && (\r\n          <View style={styles.wheelSection}>\r\n            {renderWheel()}\r\n            \r\n            <TouchableOpacity\r\n              style={[styles.spinButton, isSpinning && styles.spinButtonDisabled]}\r\n              onPress={spinWheel}\r\n              disabled={isSpinning}\r\n            >\r\n              <Text style={styles.spinButtonText}>\r\n                {isSpinning ? 'üé∞ SPINNING...' : 'üéØ SPIN THE WHEEL'}\r\n              </Text>\r\n            </TouchableOpacity>\r\n\r\n            <Text style={styles.restaurantCount}>\r\n              {restaurants.length} restaurants loaded\r\n            </Text>\r\n          </View>\r\n        )}\r\n\r\n        {showResult && selectedRestaurant && (\r\n          <View style={styles.resultContainer}>\r\n            <Text style={styles.resultTitle}>üéâ Your Restaurant!</Text>\r\n            \r\n            <View style={styles.restaurantCard}>\r\n              {selectedRestaurant.photoUrl && (\r\n                <Image\r\n                  source={{ uri: selectedRestaurant.photoUrl }}\r\n                  style={styles.restaurantPhoto}\r\n                  onError={() => console.log('Failed to load image')}\r\n                />\r\n              )}\r\n\r\n              <Text style={styles.restaurantName}>{selectedRestaurant.name}</Text>\r\n\r\n              {selectedRestaurant.rating && (\r\n                <View style={styles.ratingContainer}>\r\n                  <Text style={styles.ratingText}>‚≠ê {selectedRestaurant.rating.toFixed(1)}/10</Text>\r\n                </View>\r\n              )}\r\n\r\n              <Text style={styles.address}>üìç {selectedRestaurant.address}</Text>\r\n\r\n              <View style={styles.buttonGroup}>\r\n                {selectedRestaurant.mapsUrl && (\r\n                  <TouchableOpacity\r\n                    style={[styles.actionButton, styles.mapsButton]}\r\n                    onPress={() => openLink(selectedRestaurant.mapsUrl)}\r\n                  >\r\n                    <Text style={styles.actionButtonText}>üìç Open Maps</Text>\r\n                  </TouchableOpacity>\r\n                )}\r\n\r\n                {selectedRestaurant.website && (\r\n                  <TouchableOpacity\r\n                    style={[styles.actionButton, styles.websiteButton]}\r\n                    onPress={() => openLink(selectedRestaurant.website)}\r\n                  >\r\n                    <Text style={styles.actionButtonText}>üåê Menu</Text>\r\n                  </TouchableOpacity>\r\n                )}\r\n              </View>\r\n\r\n              <TouchableOpacity\r\n                style={styles.resetButton}\r\n                onPress={resetSpin}\r\n              >\r\n                <Text style={styles.resetButtonText}>üîÑ SPIN AGAIN</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        )}\r\n\r\n        <TouchableOpacity\r\n          style={styles.refreshButton}\r\n          onPress={() => location && fetchRestaurants(location.latitude, location.longitude)}\r\n        >\r\n          <Text style={styles.refreshButtonText}>üîÑ Load New Restaurants</Text>\r\n        </TouchableOpacity>\r\n      </ScrollView>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#0F172A',\r\n  },\r\n  loadingContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#0F172A',\r\n  },\r\n  loadingText: {\r\n    marginTop: 15,\r\n    fontSize: 16,\r\n    color: '#E2E8F0',\r\n    fontWeight: '500',\r\n  },\r\n  header: {\r\n    backgroundColor: '#1E293B',\r\n    padding: 25,\r\n    paddingTop: 60,\r\n    alignItems: 'center',\r\n    borderBottomWidth: 3,\r\n    borderBottomColor: '#FF6B6B',\r\n  },\r\n  title: {\r\n    fontSize: 38,\r\n    fontWeight: 'bold',\r\n    color: '#fff',\r\n    marginBottom: 8,\r\n  },\r\n  subtitle: {\r\n    fontSize: 15,\r\n    color: '#94A3B8',\r\n    textAlign: 'center',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 20,\r\n  },\r\n  errorCard: {\r\n    backgroundColor: '#FEE2E2',\r\n    borderRadius: 12,\r\n    padding: 15,\r\n    marginBottom: 20,\r\n    borderLeftWidth: 4,\r\n    borderLeftColor: '#DC2626',\r\n  },\r\n  errorText: {\r\n    color: '#991B1B',\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n  },\r\n  wheelSection: {\r\n    alignItems: 'center',\r\n    marginVertical: 20,\r\n  },\r\n  wheelContainer: {\r\n    position: 'relative',\r\n    marginBottom: 30,\r\n  },\r\n  pointer: {\r\n    position: 'absolute',\r\n    top: -15,\r\n    left: '50%',\r\n    marginLeft: -15,\r\n    zIndex: 10,\r\n  },\r\n  pointerTriangle: {\r\n    width: 0,\r\n    height: 0,\r\n    borderLeftWidth: 15,\r\n    borderRightWidth: 15,\r\n    borderTopWidth: 30,\r\n    borderLeftColor: 'transparent',\r\n    borderRightColor: 'transparent',\r\n    borderTopColor: '#FBBF24',\r\n  },\r\n  spinButton: {\r\n    backgroundColor: '#FF6B6B',\r\n    paddingVertical: 18,\r\n    paddingHorizontal: 50,\r\n    borderRadius: 50,\r\n    shadowColor: '#FF6B6B',\r\n    shadowOffset: { width: 0, height: 8 },\r\n    shadowOpacity: 0.4,\r\n    shadowRadius: 12,\r\n    elevation: 8,\r\n  },\r\n  spinButtonDisabled: {\r\n    backgroundColor: '#94A3B8',\r\n    shadowColor: '#94A3B8',\r\n  },\r\n  spinButtonText: {\r\n    color: '#fff',\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    letterSpacing: 1.5,\r\n  },\r\n  restaurantCount: {\r\n    marginTop: 15,\r\n    fontSize: 14,\r\n    color: '#94A3B8',\r\n    fontWeight: '500',\r\n  },\r\n  resultContainer: {\r\n    marginTop: 20,\r\n  },\r\n  resultTitle: {\r\n    fontSize: 28,\r\n    fontWeight: 'bold',\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  restaurantCard: {\r\n    backgroundColor: '#1E293B',\r\n    borderRadius: 20,\r\n    padding: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 10 },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 20,\r\n    elevation: 10,\r\n    borderWidth: 2,\r\n    borderColor: '#334155',\r\n  },\r\n  restaurantPhoto: {\r\n    width: '100%',\r\n    height: 280,\r\n    borderRadius: 15,\r\n    marginBottom: 20,\r\n  },\r\n  restaurantName: {\r\n    fontSize: 26,\r\n    fontWeight: 'bold',\r\n    color: '#fff',\r\n    marginBottom: 12,\r\n    textAlign: 'center',\r\n  },\r\n  ratingContainer: {\r\n    alignSelf: 'center',\r\n    backgroundColor: '#FF6B6B',\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 8,\r\n    borderRadius: 20,\r\n    marginBottom: 15,\r\n  },\r\n  ratingText: {\r\n    fontSize: 16,\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n  },\r\n  address: {\r\n    fontSize: 15,\r\n    color: '#94A3B8',\r\n    marginBottom: 20,\r\n    lineHeight: 22,\r\n    textAlign: 'center',\r\n  },\r\n  buttonGroup: {\r\n    flexDirection: 'row',\r\n    gap: 12,\r\n    marginBottom: 20,\r\n  },\r\n  actionButton: {\r\n    flex: 1,\r\n    paddingVertical: 14,\r\n    borderRadius: 12,\r\n    alignItems: 'center',\r\n  },\r\n  mapsButton: {\r\n    backgroundColor: '#3B82F6',\r\n  },\r\n  websiteButton: {\r\n    backgroundColor: '#10B981',\r\n  },\r\n  actionButtonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    fontSize: 15,\r\n  },\r\n  resetButton: {\r\n    backgroundColor: '#475569',\r\n    paddingVertical: 14,\r\n    borderRadius: 12,\r\n    alignItems: 'center',\r\n  },\r\n  resetButtonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    fontSize: 15,\r\n  },\r\n  refreshButton: {\r\n    backgroundColor: '#334155',\r\n    paddingVertical: 14,\r\n    borderRadius: 12,\r\n    alignItems: 'center',\r\n    marginTop: 20,\r\n    marginBottom: 30,\r\n  },\r\n  refreshButtonText: {\r\n    color: '#E2E8F0',\r\n    fontWeight: '600',\r\n    fontSize: 15,\r\n  },\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}