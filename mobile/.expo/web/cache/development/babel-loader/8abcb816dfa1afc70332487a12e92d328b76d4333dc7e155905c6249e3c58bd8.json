{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport * as Location from 'expo-location';\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nvar BACKEND_URL = 'http://localhost:5000';\nexport default function App() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    location = _useState2[0],\n    setLocation = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    restaurants = _useState4[0],\n    setRestaurants = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedIndex = _useState6[0],\n    setSelectedIndex = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    selectedRestaurant = _useState8[0],\n    setSelectedRestaurant = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    loadingList = _useState0[0],\n    setLoadingList = _useState0[1];\n  var _useState1 = useState(true),\n    _useState10 = _slicedToArray(_useState1, 2),\n    locationLoading = _useState10[0],\n    setLocationLoading = _useState10[1];\n  var _useState11 = useState(null),\n    _useState12 = _slicedToArray(_useState11, 2),\n    error = _useState12[0],\n    setError = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    spinning = _useState14[0],\n    setSpinning = _useState14[1];\n  var wheelRotation = useRef(new Animated.Value(0)).current;\n  var cumulativeRotation = useRef(0);\n  var _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width;\n  var wheelSize = Math.min(320, width - 60);\n  useEffect(function () {\n    getLocation();\n  }, []);\n  useEffect(function () {\n    if (location) {\n      fetchRestaurants(location.latitude, location.longitude);\n    }\n  }, [location]);\n  var getLocation = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        setLocationLoading(true);\n        setError(null);\n        if (Platform.OS !== 'web') {\n          var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n            status = _yield$Location$reque.status;\n          if (status !== 'granted') {\n            setError('Permission to access location was denied');\n            setLocationLoading(false);\n            setLocation({\n              latitude: 40.7128,\n              longitude: -74.0060\n            });\n            return;\n          }\n          var locationData = yield Location.getCurrentPositionAsync({\n            accuracy: Location.Accuracy.High\n          });\n          var _locationData$coords = locationData.coords,\n            latitude = _locationData$coords.latitude,\n            longitude = _locationData$coords.longitude;\n          setLocation({\n            latitude: latitude,\n            longitude: longitude\n          });\n          setLocationLoading(false);\n          return;\n        }\n        if (Platform.OS === 'web' && typeof navigator !== 'undefined' && 'geolocation' in navigator) {\n          navigator.geolocation.getCurrentPosition(function (pos) {\n            var _ref2 = pos.coords,\n              latitude = _ref2.latitude,\n              longitude = _ref2.longitude;\n            setLocation({\n              latitude: latitude,\n              longitude: longitude\n            });\n            setLocationLoading(false);\n          }, function () {\n            var _ref3 = _asyncToGenerator(function* (err) {\n              console.warn('Browser geolocation failed, falling back to IP lookup', err);\n              try {\n                var resp = yield fetch('https://ipapi.co/json/');\n                var j = yield resp.json();\n                setLocation({\n                  latitude: j.latitude,\n                  longitude: j.longitude\n                });\n              } catch (e) {\n                setLocation({\n                  latitude: 40.7128,\n                  longitude: -74.0060\n                });\n              }\n              setLocationLoading(false);\n            });\n            return function (_x) {\n              return _ref3.apply(this, arguments);\n            };\n          }(), {\n            enableHighAccuracy: true,\n            timeout: 10000\n          });\n          return;\n        }\n      } catch (err) {\n        console.error('Error getting location:', err);\n        setError('Failed to get location');\n        setLocationLoading(false);\n        setLocation({\n          latitude: 40.7128,\n          longitude: -74.0060\n        });\n      }\n    });\n    return function getLocation() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var fetchRestaurants = function () {\n    var _ref4 = _asyncToGenerator(function* (lat, lng) {\n      try {\n        setLoadingList(true);\n        setError(null);\n        var res = yield fetch(`${BACKEND_URL}/api/restaurants`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            latitude: lat,\n            longitude: lng,\n            radius: 5000,\n            limit: 10\n          })\n        });\n        var data = yield res.json();\n        if (data.success) {\n          setRestaurants(data.restaurants || []);\n          setSelectedIndex(null);\n          setSelectedRestaurant(null);\n          cumulativeRotation.current = 0;\n          wheelRotation.setValue(0);\n        } else {\n          setError(data.error || 'Failed to fetch restaurants');\n        }\n      } catch (err) {\n        console.error('Error:', err);\n        setError(err.message || \"Failed to connect to backend. Make sure it's running.\");\n      } finally {\n        setLoadingList(false);\n      }\n    });\n    return function fetchRestaurants(_x2, _x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var openLink = function openLink(url) {\n    if (!url) {\n      Alert.alert('Not Available', 'This link is not available');\n      return;\n    }\n    Linking.openURL(url).catch(function () {\n      Alert.alert('Error', 'Could not open the link');\n    });\n  };\n  var shortName = function shortName(name) {\n    var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 18;\n    return name.length > max ? name.slice(0, max - 1) + '...' : name;\n  };\n  var spinWheel = function spinWheel() {\n    if (spinning || restaurants.length === 0) return;\n    setSpinning(true);\n    var n = restaurants.length;\n    var segment = 360 / n;\n    var targetIndex = Math.floor(Math.random() * n);\n    var segmentCenterAngle = targetIndex * segment + segment / 2;\n    var fullTurns = 5;\n    var targetRotation = fullTurns * 360 + (360 - segmentCenterAngle);\n    var start = cumulativeRotation.current;\n    var end = start + targetRotation;\n    Animated.timing(wheelRotation, {\n      toValue: end,\n      duration: 4200,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: Platform.OS !== 'web'\n    }).start(function () {\n      cumulativeRotation.current = end % 360;\n      setSelectedIndex(targetIndex);\n      setSelectedRestaurant(restaurants[targetIndex]);\n      setSpinning(false);\n    });\n  };\n  var rotationInterpolate = wheelRotation.interpolate({\n    inputRange: [0, 360],\n    outputRange: ['0deg', '360deg']\n  });\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.bgOrbOne\n    }), _jsx(View, {\n      style: styles.bgOrbTwo\n    }), _jsxs(View, {\n      style: styles.hero,\n      children: [_jsxs(View, {\n        style: styles.heroTopRow,\n        children: [_jsx(View, {\n          style: styles.brandBadge,\n          children: _jsx(Text, {\n            style: styles.brandBadgeText,\n            children: \"SpinDine\"\n          })\n        }), _jsx(View, {\n          style: styles.pill,\n          children: _jsx(Text, {\n            style: styles.pillText,\n            children: restaurants.length > 0 ? `${restaurants.length} nearby` : 'Ready to explore'\n          })\n        })]\n      }), _jsx(Text, {\n        style: styles.heroTitle,\n        children: \"Let chance pick tonight's table.\"\n      }), _jsx(Text, {\n        style: styles.heroSubtitle,\n        children: \"Spin the wheel, discover something new, and go.\"\n      })]\n    }), _jsxs(ScrollView, {\n      style: styles.content,\n      showsVerticalScrollIndicator: false,\n      children: [_jsxs(View, {\n        style: styles.card,\n        children: [_jsxs(View, {\n          style: styles.cardHeaderRow,\n          children: [_jsx(Text, {\n            style: styles.cardTitle,\n            children: \"Location\"\n          }), _jsx(TouchableOpacity, {\n            style: styles.subtleButton,\n            onPress: getLocation,\n            children: _jsx(Text, {\n              style: styles.subtleButtonText,\n              children: \"Refresh\"\n            })\n          })]\n        }), locationLoading ? _jsx(ActivityIndicator, {\n          size: \"small\",\n          color: \"#FF6B6B\"\n        }) : location ? _jsxs(_Fragment, {\n          children: [_jsxs(Text, {\n            style: styles.cardText,\n            children: [\"Latitude \", location.latitude.toFixed(4)]\n          }), _jsxs(Text, {\n            style: styles.cardText,\n            children: [\"Longitude \", location.longitude.toFixed(4)]\n          })]\n        }) : null]\n      }), error && _jsx(View, {\n        style: [styles.card, styles.errorCard],\n        children: _jsx(Text, {\n          style: styles.errorText,\n          children: error\n        })\n      }), _jsxs(View, {\n        style: [styles.card, styles.wheelCard],\n        children: [_jsxs(View, {\n          style: styles.cardHeaderRow,\n          children: [_jsx(Text, {\n            style: styles.cardTitle,\n            children: \"Spin Wheel\"\n          }), _jsx(Text, {\n            style: styles.cardHint,\n            children: restaurants.length > 0 ? 'Tap spin' : 'Load options'\n          })]\n        }), loadingList ? _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"#FF6B6B\"\n        }) : restaurants.length === 0 ? _jsx(Text, {\n          style: styles.cardText,\n          children: \"No restaurants loaded yet. Refresh location to load nearby options.\"\n        }) : _jsx(View, {\n          style: {\n            alignItems: 'center',\n            marginTop: 10\n          },\n          children: _jsxs(View, {\n            style: {\n              width: wheelSize,\n              height: wheelSize,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            children: [_jsx(View, {\n              style: styles.pointer\n            }), _jsx(Animated.View, {\n              style: {\n                transform: [{\n                  rotate: rotationInterpolate\n                }],\n                width: wheelSize,\n                height: wheelSize,\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: _jsx(View, {\n                style: [styles.wheelBase, {\n                  width: wheelSize,\n                  height: wheelSize,\n                  borderRadius: wheelSize / 2\n                }],\n                children: restaurants.map(function (r, i) {\n                  var n = restaurants.length;\n                  var angle = 360 / n * i;\n                  return _jsx(View, {\n                    style: [styles.wheelLabelWrapper, {\n                      width: wheelSize,\n                      height: wheelSize,\n                      transform: [{\n                        rotate: `${angle}deg`\n                      }]\n                    }],\n                    children: _jsx(View, {\n                      style: [styles.wheelLabel, {\n                        transform: [{\n                          rotate: `${-angle}deg`\n                        }]\n                      }],\n                      children: _jsx(Text, {\n                        style: styles.wheelLabelText,\n                        children: shortName(r.name, 16)\n                      })\n                    })\n                  }, r.fsqId || i);\n                })\n              })\n            }), _jsx(TouchableOpacity, {\n              style: [styles.spinButton, {\n                marginTop: 18,\n                width: 230\n              }],\n              onPress: spinWheel,\n              disabled: spinning,\n              children: _jsx(Text, {\n                style: styles.spinButtonText,\n                children: spinning ? 'Spinning...' : 'Spin the wheel'\n              })\n            }), selectedRestaurant && _jsxs(View, {\n              style: [styles.resultCard, {\n                width: Math.min(420, width - 40),\n                marginTop: 20\n              }],\n              children: [selectedRestaurant.photoUrl && _jsx(Image, {\n                source: {\n                  uri: selectedRestaurant.photoUrl\n                },\n                style: styles.restaurantPhoto\n              }), _jsx(Text, {\n                style: styles.restaurantName,\n                children: selectedRestaurant.name\n              }), selectedRestaurant.rating && _jsxs(Text, {\n                style: styles.rating,\n                children: [\"Rating \", selectedRestaurant.rating.toFixed(1), \"/10\"]\n              }), _jsx(Text, {\n                style: styles.address,\n                children: selectedRestaurant.address\n              }), _jsxs(View, {\n                style: styles.buttonGroup,\n                children: [selectedRestaurant.mapsUrl && _jsx(TouchableOpacity, {\n                  style: [styles.actionButton, styles.mapsButton],\n                  onPress: function onPress() {\n                    return openLink(selectedRestaurant.mapsUrl);\n                  },\n                  children: _jsx(Text, {\n                    style: styles.actionButtonText,\n                    children: \"Open Maps\"\n                  })\n                }), selectedRestaurant.website && _jsx(TouchableOpacity, {\n                  style: [styles.actionButton, styles.websiteButton],\n                  onPress: function onPress() {\n                    return openLink(selectedRestaurant.website);\n                  },\n                  children: _jsx(Text, {\n                    style: styles.actionButtonText,\n                    children: \"Website\"\n                  })\n                })]\n              })]\n            })]\n          })\n        })]\n      }), _jsx(View, {\n        style: styles.spacer\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F7F7FB'\n  },\n  bgOrbOne: {\n    position: 'absolute',\n    width: 260,\n    height: 260,\n    borderRadius: 130,\n    backgroundColor: '#FFE6E6',\n    top: -80,\n    left: -60,\n    opacity: 0.7\n  },\n  bgOrbTwo: {\n    position: 'absolute',\n    width: 220,\n    height: 220,\n    borderRadius: 110,\n    backgroundColor: '#E7F7FF',\n    top: 120,\n    right: -80,\n    opacity: 0.7\n  },\n  hero: {\n    paddingHorizontal: 20,\n    paddingTop: 56,\n    paddingBottom: 16\n  },\n  heroTopRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 12\n  },\n  brandBadge: {\n    backgroundColor: '#111827',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 999\n  },\n  brandBadgeText: {\n    color: '#fff',\n    fontWeight: '700',\n    letterSpacing: 0.3\n  },\n  pill: {\n    backgroundColor: '#FFFFFF',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 999,\n    borderWidth: 1,\n    borderColor: '#ECECF2'\n  },\n  pillText: {\n    color: '#4B5563',\n    fontWeight: '600',\n    fontSize: 12\n  },\n  heroTitle: {\n    fontSize: 28,\n    lineHeight: 34,\n    color: '#111827',\n    fontWeight: '800'\n  },\n  heroSubtitle: {\n    marginTop: 6,\n    fontSize: 14,\n    color: '#6B7280'\n  },\n  content: {\n    flex: 1,\n    padding: 16\n  },\n  card: {\n    backgroundColor: '#fff',\n    borderRadius: 18,\n    padding: 16,\n    marginBottom: 14,\n    borderWidth: 1,\n    borderColor: '#F0F1F6',\n    shadowColor: '#0F172A',\n    shadowOffset: {\n      width: 0,\n      height: 8\n    },\n    shadowOpacity: 0.08,\n    shadowRadius: 16,\n    elevation: 4,\n    boxShadow: '0px 10px 24px rgba(15, 23, 42, 0.08)'\n  },\n  cardHeaderRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 10\n  },\n  cardTitle: {\n    fontSize: 15,\n    fontWeight: '700',\n    color: '#111827'\n  },\n  cardText: {\n    fontSize: 14,\n    color: '#6B7280',\n    marginBottom: 8\n  },\n  cardHint: {\n    fontSize: 12,\n    color: '#9CA3AF',\n    fontWeight: '600'\n  },\n  subtleButton: {\n    backgroundColor: '#F3F4F6',\n    borderRadius: 999,\n    paddingHorizontal: 12,\n    paddingVertical: 6\n  },\n  subtleButtonText: {\n    color: '#374151',\n    fontWeight: '600',\n    fontSize: 12\n  },\n  errorCard: {\n    backgroundColor: '#FFF1F2',\n    borderColor: '#FFE0E6'\n  },\n  errorText: {\n    color: '#BE123C',\n    fontSize: 14\n  },\n  loadingText: {\n    marginTop: 10,\n    fontSize: 14,\n    color: '#6B7280',\n    textAlign: 'center'\n  },\n  restaurantPhoto: {\n    width: '100%',\n    height: 190,\n    borderRadius: 12,\n    marginBottom: 14,\n    backgroundColor: '#E5E7EB'\n  },\n  restaurantName: {\n    fontSize: 20,\n    fontWeight: '800',\n    color: '#0F172A',\n    marginBottom: 8\n  },\n  rating: {\n    fontSize: 14,\n    color: '#F97316',\n    marginBottom: 10,\n    fontWeight: '700'\n  },\n  address: {\n    fontSize: 14,\n    color: '#6B7280',\n    marginBottom: 15,\n    lineHeight: 20\n  },\n  buttonGroup: {\n    flexDirection: 'row',\n    gap: 10,\n    marginTop: 15\n  },\n  actionButton: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  mapsButton: {\n    backgroundColor: '#111827'\n  },\n  websiteButton: {\n    backgroundColor: '#3B82F6'\n  },\n  actionButtonText: {\n    color: '#fff',\n    fontWeight: '700',\n    fontSize: 14\n  },\n  wheelCard: {\n    paddingBottom: 20,\n    minHeight: 520\n  },\n  spinButton: {\n    backgroundColor: '#F43F5E',\n    paddingVertical: 13,\n    borderRadius: 14,\n    alignItems: 'center',\n    marginBottom: 30,\n    shadowColor: '#F43F5E',\n    shadowOffset: {\n      width: 0,\n      height: 8\n    },\n    shadowOpacity: 0.35,\n    shadowRadius: 16,\n    elevation: 5,\n    boxShadow: '0px 12px 28px rgba(244, 63, 94, 0.35)'\n  },\n  spinButtonText: {\n    color: '#fff',\n    fontSize: 15,\n    fontWeight: '800',\n    letterSpacing: 0.2\n  },\n  wheelBase: {\n    backgroundColor: '#ffffff',\n    borderWidth: 10,\n    borderColor: '#E2E8F0',\n    width: '100%',\n    height: '100%',\n    borderRadius: 999,\n    alignItems: 'center',\n    justifyContent: 'center',\n    boxShadow: 'inset 0px 0px 18px rgba(15, 23, 42, 0.08)'\n  },\n  wheelLabelWrapper: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    pointerEvents: 'none'\n  },\n  wheelLabel: {\n    marginTop: 14,\n    backgroundColor: '#FFFFFF',\n    borderWidth: 1,\n    borderColor: '#E5E7EB',\n    paddingHorizontal: 8,\n    paddingVertical: 5,\n    borderRadius: 999,\n    maxWidth: 120,\n    boxShadow: '0px 6px 14px rgba(15, 23, 42, 0.08)'\n  },\n  wheelLabelText: {\n    fontSize: 12,\n    color: '#111827',\n    fontWeight: '700',\n    textAlign: 'center'\n  },\n  pointer: {\n    position: 'absolute',\n    top: -12,\n    width: 0,\n    height: 0,\n    borderLeftWidth: 12,\n    borderRightWidth: 12,\n    borderBottomWidth: 20,\n    borderLeftColor: 'transparent',\n    borderRightColor: 'transparent',\n    borderBottomColor: '#0F172A',\n    zIndex: 5\n  },\n  resultCard: {\n    backgroundColor: '#FFFFFF',\n    borderRadius: 18,\n    padding: 16,\n    borderWidth: 1,\n    borderColor: '#F1F5F9',\n    boxShadow: '0px 12px 28px rgba(15, 23, 42, 0.08)'\n  },\n  spacer: {\n    height: 30\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","View","Text","StyleSheet","ActivityIndicator","ScrollView","TouchableOpacity","Image","Linking","Alert","Platform","Animated","Easing","Dimensions","Location","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BACKEND_URL","App","_useState","_useState2","_slicedToArray","location","setLocation","_useState3","_useState4","restaurants","setRestaurants","_useState5","_useState6","selectedIndex","setSelectedIndex","_useState7","_useState8","selectedRestaurant","setSelectedRestaurant","_useState9","_useState0","loadingList","setLoadingList","_useState1","_useState10","locationLoading","setLocationLoading","_useState11","_useState12","error","setError","_useState13","_useState14","spinning","setSpinning","wheelRotation","Value","current","cumulativeRotation","_Dimensions$get","get","width","wheelSize","Math","min","getLocation","fetchRestaurants","latitude","longitude","_ref","_asyncToGenerator","OS","_yield$Location$reque","requestForegroundPermissionsAsync","status","locationData","getCurrentPositionAsync","accuracy","Accuracy","High","_locationData$coords","coords","navigator","geolocation","getCurrentPosition","pos","_ref2","_ref3","err","console","warn","resp","fetch","j","json","e","_x","apply","arguments","enableHighAccuracy","timeout","_ref4","lat","lng","res","method","headers","body","JSON","stringify","radius","limit","data","success","setValue","message","_x2","_x3","openLink","url","alert","openURL","catch","shortName","name","max","length","undefined","slice","spinWheel","n","segment","targetIndex","floor","random","segmentCenterAngle","fullTurns","targetRotation","start","end","timing","toValue","duration","easing","out","cubic","useNativeDriver","rotationInterpolate","interpolate","inputRange","outputRange","style","styles","container","children","bgOrbOne","bgOrbTwo","hero","heroTopRow","brandBadge","brandBadgeText","pill","pillText","heroTitle","heroSubtitle","content","showsVerticalScrollIndicator","card","cardHeaderRow","cardTitle","subtleButton","onPress","subtleButtonText","size","color","cardText","toFixed","errorCard","errorText","wheelCard","cardHint","alignItems","marginTop","height","justifyContent","pointer","transform","rotate","wheelBase","borderRadius","map","r","i","angle","wheelLabelWrapper","wheelLabel","wheelLabelText","fsqId","spinButton","disabled","spinButtonText","resultCard","photoUrl","source","uri","restaurantPhoto","restaurantName","rating","address","buttonGroup","mapsUrl","actionButton","mapsButton","actionButtonText","website","websiteButton","spacer","create","flex","backgroundColor","position","top","left","opacity","right","paddingHorizontal","paddingTop","paddingBottom","flexDirection","marginBottom","paddingVertical","fontWeight","letterSpacing","borderWidth","borderColor","fontSize","lineHeight","padding","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","boxShadow","loadingText","textAlign","gap","minHeight","pointerEvents","maxWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","borderLeftColor","borderRightColor","borderBottomColor","zIndex"],"sources":["C:/Users/abhis/Downloads/SPINnDINE/mobile/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ActivityIndicator,\n  ScrollView,\n  TouchableOpacity,\n  Image,\n  Linking,\n  Alert,\n  Platform,\n  Animated,\n  Easing,\n  Dimensions,\n} from 'react-native';\nimport * as Location from 'expo-location';\n\n// Change this to your backend URL\n// For testing: use your machine's IP address\nconst BACKEND_URL = 'http://localhost:5000';\n\ninterface Restaurant {\n  name: string;\n  rating: number | null;\n  address: string;\n  photoUrl: string | null;\n  website: string | null;\n  mapsUrl: string | null;\n  fsqId: string;\n}\n\ninterface LocationData {\n  latitude: number;\n  longitude: number;\n}\n\nexport default function App() {\n  const [location, setLocation] = useState<LocationData | null>(null);\n  const [restaurants, setRestaurants] = useState<Restaurant[]>([]);\n  const [selectedIndex, setSelectedIndex] = useState<number | null>(null);\n  const [selectedRestaurant, setSelectedRestaurant] = useState<Restaurant | null>(null);\n  const [loadingList, setLoadingList] = useState(false);\n  const [locationLoading, setLocationLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [spinning, setSpinning] = useState(false);\n\n  const wheelRotation = useRef(new Animated.Value(0)).current; // degrees\n  const cumulativeRotation = useRef(0);\n\n  const { width } = Dimensions.get('window');\n  const wheelSize = Math.min(320, width - 60);\n\n  // Get user's location on app start\n  useEffect(() => {\n    getLocation();\n  }, []);\n\n  // Fetch restaurants when location changes\n  useEffect(() => {\n    if (location) {\n      fetchRestaurants(location.latitude, location.longitude);\n    }\n  }, [location]);\n\n  /**\n   * Get device's GPS location\n   */\n  const getLocation = async () => {\n    try {\n      setLocationLoading(true);\n      setError(null);\n      // Use Expo Location on native platforms\n      if (Platform.OS !== 'web') {\n        let { status } = await Location.requestForegroundPermissionsAsync();\n        if (status !== 'granted') {\n          setError('Permission to access location was denied');\n          setLocationLoading(false);\n          // Use NYC as default for testing\n          setLocation({ latitude: 40.7128, longitude: -74.0060 });\n          return;\n        }\n\n        const locationData = await Location.getCurrentPositionAsync({\n          accuracy: Location.Accuracy.High,\n        });\n\n        const { latitude, longitude } = locationData.coords;\n        setLocation({ latitude, longitude });\n        setLocationLoading(false);\n        return;\n      }\n\n      // Web: try browser geolocation first, then fallback to IP-based lookup\n      if (Platform.OS === 'web' && typeof navigator !== 'undefined' && 'geolocation' in navigator) {\n        navigator.geolocation.getCurrentPosition(\n          (pos) => {\n            const { latitude, longitude } = pos.coords as any;\n            setLocation({ latitude, longitude });\n            setLocationLoading(false);\n          },\n          async (err) => {\n            console.warn('Browser geolocation failed, falling back to IP lookup', err);\n            // fallback to IP-based location service\n            try {\n              const resp = await fetch('https://ipapi.co/json/');\n              const j = await resp.json();\n              setLocation({ latitude: j.latitude, longitude: j.longitude });\n            } catch (e) {\n              setLocation({ latitude: 40.7128, longitude: -74.0060 });\n            }\n            setLocationLoading(false);\n          },\n          { enableHighAccuracy: true, timeout: 10000 }\n        );\n        return;\n      }\n    } catch (err) {\n      console.error('Error getting location:', err);\n      setError('Failed to get location');\n      setLocationLoading(false);\n      // Use NYC as default for testing\n      setLocation({ latitude: 40.7128, longitude: -74.0060 });\n    }\n  };\n\n  /**\n   * Fetch list of restaurants from backend\n   */\n  const fetchRestaurants = async (lat: number, lng: number) => {\n    try {\n      setLoadingList(true);\n      setError(null);\n\n      const res = await fetch(`${BACKEND_URL}/api/restaurants`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ latitude: lat, longitude: lng, radius: 5000, limit: 10 }),\n      });\n\n      const data = await res.json();\n\n      if (data.success) {\n        setRestaurants(data.restaurants || []);\n        // clear previous selection\n        setSelectedIndex(null);\n        setSelectedRestaurant(null);\n        cumulativeRotation.current = 0;\n        wheelRotation.setValue(0);\n      } else {\n        setError(data.error || 'Failed to fetch restaurants');\n      }\n    } catch (err: any) {\n      console.error('Error:', err);\n      setError(err.message || \"Failed to connect to backend. Make sure it's running.\");\n    } finally {\n      setLoadingList(false);\n    }\n  };\n\n  const openLink = (url: string | null) => {\n    if (!url) {\n      Alert.alert('Not Available', 'This link is not available');\n      return;\n    }\n\n    Linking.openURL(url).catch(() => {\n      Alert.alert('Error', 'Could not open the link');\n    });\n  };\n\n  const shortName = (name: string, max = 18) => (name.length > max ? name.slice(0, max - 1) + '...' : name);\n\n  const spinWheel = () => {\n    if (spinning || restaurants.length === 0) return;\n    setSpinning(true);\n\n    const n = restaurants.length;\n    const segment = 360 / n;\n    const targetIndex = Math.floor(Math.random() * n);\n\n    // rotate so the center of the target segment lands at top (0deg)\n    const segmentCenterAngle = targetIndex * segment + segment / 2;\n    const fullTurns = 5; // visual spins\n\n    const targetRotation = fullTurns * 360 + (360 - segmentCenterAngle);\n\n    const start = cumulativeRotation.current;\n    const end = start + targetRotation;\n\n    Animated.timing(wheelRotation, {\n      toValue: end,\n      duration: 4200,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: Platform.OS !== 'web',\n    }).start(() => {\n      cumulativeRotation.current = end % 360;\n      // compute landed index explicitly\n      setSelectedIndex(targetIndex);\n      setSelectedRestaurant(restaurants[targetIndex]);\n      setSpinning(false);\n    });\n  };\n\n  const rotationInterpolate = wheelRotation.interpolate({\n    inputRange: [0, 360],\n    outputRange: ['0deg', '360deg'],\n  });\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.bgOrbOne} />\n      <View style={styles.bgOrbTwo} />\n\n      <View style={styles.hero}>\n        <View style={styles.heroTopRow}>\n          <View style={styles.brandBadge}>\n            <Text style={styles.brandBadgeText}>SpinDine</Text>\n          </View>\n          <View style={styles.pill}>\n            <Text style={styles.pillText}>\n              {restaurants.length > 0 ? `${restaurants.length} nearby` : 'Ready to explore'}\n            </Text>\n          </View>\n        </View>\n        <Text style={styles.heroTitle}>Let chance pick tonight's table.</Text>\n        <Text style={styles.heroSubtitle}>Spin the wheel, discover something new, and go.</Text>\n      </View>\n\n      <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\n        <View style={styles.card}>\n          <View style={styles.cardHeaderRow}>\n            <Text style={styles.cardTitle}>Location</Text>\n            <TouchableOpacity style={styles.subtleButton} onPress={getLocation}>\n              <Text style={styles.subtleButtonText}>Refresh</Text>\n            </TouchableOpacity>\n          </View>\n          {locationLoading ? (\n            <ActivityIndicator size=\"small\" color=\"#FF6B6B\" />\n          ) : location ? (\n            <>\n              <Text style={styles.cardText}>Latitude {location.latitude.toFixed(4)}</Text>\n              <Text style={styles.cardText}>Longitude {location.longitude.toFixed(4)}</Text>\n            </>\n          ) : null}\n        </View>\n\n        {error && (\n          <View style={[styles.card, styles.errorCard]}>\n            <Text style={styles.errorText}>{error}</Text>\n          </View>\n        )}\n\n        <View style={[styles.card, styles.wheelCard]}>\n          <View style={styles.cardHeaderRow}>\n            <Text style={styles.cardTitle}>Spin Wheel</Text>\n            <Text style={styles.cardHint}>{restaurants.length > 0 ? 'Tap spin' : 'Load options'}</Text>\n          </View>\n\n          {loadingList ? (\n            <ActivityIndicator size=\"large\" color=\"#FF6B6B\" />\n          ) : restaurants.length === 0 ? (\n            <Text style={styles.cardText}>No restaurants loaded yet. Refresh location to load nearby options.</Text>\n          ) : (\n            <View style={{ alignItems: 'center', marginTop: 10 }}>\n              <View\n                style={{\n                  width: wheelSize,\n                  height: wheelSize,\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                }}\n              >\n                <View style={styles.pointer} />\n\n                <Animated.View\n                  style={{\n                    transform: [{ rotate: rotationInterpolate }],\n                    width: wheelSize,\n                    height: wheelSize,\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                  }}\n                >\n                  <View style={[styles.wheelBase, { width: wheelSize, height: wheelSize, borderRadius: wheelSize / 2 }]}>\n                    {restaurants.map((r, i) => {\n                      const n = restaurants.length;\n                      const angle = (360 / n) * i;\n                      return (\n                        <View\n                          key={r.fsqId || i}\n                          style={[\n                            styles.wheelLabelWrapper,\n                            { width: wheelSize, height: wheelSize, transform: [{ rotate: `${angle}deg` }] },\n                          ]}\n                        >\n                          <View style={[styles.wheelLabel, { transform: [{ rotate: `${-angle}deg` }] }]}>\n                            <Text style={styles.wheelLabelText}>{shortName(r.name, 16)}</Text>\n                          </View>\n                        </View>\n                      );\n                    })}\n                  </View>\n                </Animated.View>\n\n                <TouchableOpacity\n                  style={[styles.spinButton, { marginTop: 18, width: 230 }]}\n                  onPress={spinWheel}\n                  disabled={spinning}\n                >\n                  <Text style={styles.spinButtonText}>{spinning ? 'Spinning...' : 'Spin the wheel'}</Text>\n                </TouchableOpacity>\n\n                {selectedRestaurant && (\n                  <View style={[styles.resultCard, { width: Math.min(420, width - 40), marginTop: 20 }]}>\n                    {selectedRestaurant.photoUrl && (\n                      <Image source={{ uri: selectedRestaurant.photoUrl }} style={styles.restaurantPhoto} />\n                    )}\n                    <Text style={styles.restaurantName}>{selectedRestaurant.name}</Text>\n                    {selectedRestaurant.rating && (\n                      <Text style={styles.rating}>Rating {selectedRestaurant.rating.toFixed(1)}/10</Text>\n                    )}\n                    <Text style={styles.address}>{selectedRestaurant.address}</Text>\n                    <View style={styles.buttonGroup}>\n                      {selectedRestaurant.mapsUrl && (\n                        <TouchableOpacity style={[styles.actionButton, styles.mapsButton]} onPress={() => openLink(selectedRestaurant.mapsUrl)}>\n                          <Text style={styles.actionButtonText}>Open Maps</Text>\n                        </TouchableOpacity>\n                      )}\n                      {selectedRestaurant.website && (\n                        <TouchableOpacity style={[styles.actionButton, styles.websiteButton]} onPress={() => openLink(selectedRestaurant.website)}>\n                          <Text style={styles.actionButtonText}>Website</Text>\n                        </TouchableOpacity>\n                      )}\n                    </View>\n                  </View>\n                )}\n              </View>\n            </View>\n          )}\n        </View>\n\n        <View style={styles.spacer} />\n      </ScrollView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F7F7FB',\n  },\n  bgOrbOne: {\n    position: 'absolute',\n    width: 260,\n    height: 260,\n    borderRadius: 130,\n    backgroundColor: '#FFE6E6',\n    top: -80,\n    left: -60,\n    opacity: 0.7,\n  },\n  bgOrbTwo: {\n    position: 'absolute',\n    width: 220,\n    height: 220,\n    borderRadius: 110,\n    backgroundColor: '#E7F7FF',\n    top: 120,\n    right: -80,\n    opacity: 0.7,\n  },\n  hero: {\n    paddingHorizontal: 20,\n    paddingTop: 56,\n    paddingBottom: 16,\n  },\n  heroTopRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 12,\n  },\n  brandBadge: {\n    backgroundColor: '#111827',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 999,\n  },\n  brandBadgeText: {\n    color: '#fff',\n    fontWeight: '700',\n    letterSpacing: 0.3,\n  },\n  pill: {\n    backgroundColor: '#FFFFFF',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 999,\n    borderWidth: 1,\n    borderColor: '#ECECF2',\n  },\n  pillText: {\n    color: '#4B5563',\n    fontWeight: '600',\n    fontSize: 12,\n  },\n  heroTitle: {\n    fontSize: 28,\n    lineHeight: 34,\n    color: '#111827',\n    fontWeight: '800',\n  },\n  heroSubtitle: {\n    marginTop: 6,\n    fontSize: 14,\n    color: '#6B7280',\n  },\n  content: {\n    flex: 1,\n    padding: 16,\n  },\n  card: {\n    backgroundColor: '#fff',\n    borderRadius: 18,\n    padding: 16,\n    marginBottom: 14,\n    borderWidth: 1,\n    borderColor: '#F0F1F6',\n    shadowColor: '#0F172A',\n    shadowOffset: { width: 0, height: 8 },\n    shadowOpacity: 0.08,\n    shadowRadius: 16,\n    elevation: 4,\n    boxShadow: '0px 10px 24px rgba(15, 23, 42, 0.08)',\n  },\n  cardHeaderRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  cardTitle: {\n    fontSize: 15,\n    fontWeight: '700',\n    color: '#111827',\n  },\n  cardText: {\n    fontSize: 14,\n    color: '#6B7280',\n    marginBottom: 8,\n  },\n  cardHint: {\n    fontSize: 12,\n    color: '#9CA3AF',\n    fontWeight: '600',\n  },\n  subtleButton: {\n    backgroundColor: '#F3F4F6',\n    borderRadius: 999,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n  },\n  subtleButtonText: {\n    color: '#374151',\n    fontWeight: '600',\n    fontSize: 12,\n  },\n  errorCard: {\n    backgroundColor: '#FFF1F2',\n    borderColor: '#FFE0E6',\n  },\n  errorText: {\n    color: '#BE123C',\n    fontSize: 14,\n  },\n  loadingText: {\n    marginTop: 10,\n    fontSize: 14,\n    color: '#6B7280',\n    textAlign: 'center',\n  },\n  restaurantPhoto: {\n    width: '100%',\n    height: 190,\n    borderRadius: 12,\n    marginBottom: 14,\n    backgroundColor: '#E5E7EB',\n  },\n  restaurantName: {\n    fontSize: 20,\n    fontWeight: '800',\n    color: '#0F172A',\n    marginBottom: 8,\n  },\n  rating: {\n    fontSize: 14,\n    color: '#F97316',\n    marginBottom: 10,\n    fontWeight: '700',\n  },\n  address: {\n    fontSize: 14,\n    color: '#6B7280',\n    marginBottom: 15,\n    lineHeight: 20,\n  },\n  buttonGroup: {\n    flexDirection: 'row',\n    gap: 10,\n    marginTop: 15,\n  },\n  actionButton: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 10,\n    alignItems: 'center',\n  },\n  mapsButton: {\n    backgroundColor: '#111827',\n  },\n  websiteButton: {\n    backgroundColor: '#3B82F6',\n  },\n  actionButtonText: {\n    color: '#fff',\n    fontWeight: '700',\n    fontSize: 14,\n  },\n  wheelCard: {\n    paddingBottom: 20,\n    minHeight: 520,\n  },\n  spinButton: {\n    backgroundColor: '#F43F5E',\n    paddingVertical: 13,\n    borderRadius: 14,\n    alignItems: 'center',\n    marginBottom: 30,\n    shadowColor: '#F43F5E',\n    shadowOffset: { width: 0, height: 8 },\n    shadowOpacity: 0.35,\n    shadowRadius: 16,\n    elevation: 5,\n    boxShadow: '0px 12px 28px rgba(244, 63, 94, 0.35)',\n  },\n  spinButtonText: {\n    color: '#fff',\n    fontSize: 15,\n    fontWeight: '800',\n    letterSpacing: 0.2,\n  },\n  wheelBase: {\n    backgroundColor: '#ffffff',\n    borderWidth: 10,\n    borderColor: '#E2E8F0',\n    width: '100%',\n    height: '100%',\n    borderRadius: 999,\n    alignItems: 'center',\n    justifyContent: 'center',\n    boxShadow: 'inset 0px 0px 18px rgba(15, 23, 42, 0.08)',\n  },\n  wheelLabelWrapper: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    pointerEvents: 'none',\n  },\n  wheelLabel: {\n    marginTop: 14,\n    backgroundColor: '#FFFFFF',\n    borderWidth: 1,\n    borderColor: '#E5E7EB',\n    paddingHorizontal: 8,\n    paddingVertical: 5,\n    borderRadius: 999,\n    maxWidth: 120,\n    boxShadow: '0px 6px 14px rgba(15, 23, 42, 0.08)',\n  },\n  wheelLabelText: {\n    fontSize: 12,\n    color: '#111827',\n    fontWeight: '700',\n    textAlign: 'center',\n  },\n  pointer: {\n    position: 'absolute',\n    top: -12,\n    width: 0,\n    height: 0,\n    borderLeftWidth: 12,\n    borderRightWidth: 12,\n    borderBottomWidth: 20,\n    borderLeftColor: 'transparent',\n    borderRightColor: 'transparent',\n    borderBottomColor: '#0F172A',\n    zIndex: 5,\n  },\n  resultCard: {\n    backgroundColor: '#FFFFFF',\n    borderRadius: 18,\n    padding: 16,\n    borderWidth: 1,\n    borderColor: '#F1F5F9',\n    boxShadow: '0px 12px 28px rgba(15, 23, 42, 0.08)',\n  },\n  spacer: {\n    height: 30,\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}